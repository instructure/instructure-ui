"use strict";(globalThis.webpackChunkdocs_app=globalThis.webpackChunkdocs_app||[]).push([[11],{18011:(t,e,o)=>{o.r(e),o.d(e,{Shared:()=>h,default:()=>l});var i=o(14041),r=o(11448),s=o.n(r),n=(o(28573),o(62977),o(61421),o(66493),o(47821),o(24353),o(54380));class a extends i.Component{constructor(t){super(t),this.appliedNext=void 0,this.deferred=void 0,this.editor=void 0,this.emulating=void 0,this.hydrated=void 0,this.initCb=void 0,this.mirror=void 0,this.mounted=void 0,this.ref=void 0,this.shared=void 0,this.appliedNext=!1,this.deferred=null,this.emulating=!1,this.hydrated=!1,this.initCb=()=>{this.props.editorDidConfigure&&this.props.editorDidConfigure(this.editor)},this.mounted=!1}hydrate(t){const e=t&&t.options?t.options:{},o=Object.assign({},s().defaults,this.editor.options,e);Object.keys(o).some((t=>this.editor.getOption(t)!==o[t]))&&Object.keys(o).forEach((t=>{e.hasOwnProperty(t)&&this.editor.getOption(t)!==o[t]&&(this.editor.setOption(t,o[t]),this.mirror.setOption(t,o[t]))})),this.hydrated||(this.deferred?this.resolveChange(t.value):this.initChange(t.value||"")),this.hydrated=!0}initChange(t){this.emulating=!0;const e=this.editor.getDoc(),o=e.lastLine(),i=e.getLine(e.lastLine()).length;e.replaceRange(t||"",{line:0,ch:0},{line:o,ch:i}),this.mirror.setValue(t),e.clearHistory(),this.mirror.clearHistory(),this.emulating=!1}resolveChange(t){this.emulating=!0;const e=this.editor.getDoc();if("undo"===this.deferred.origin?e.undo():"redo"===this.deferred.origin?e.redo():e.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),t&&t!==e.getValue()){const o=e.getCursor();e.setValue(t),e.setCursor(o)}this.emulating=!1,this.deferred=null}mirrorChange(t){const e=this.editor.getDoc();return"undo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(t.text,t.from,t.to,t.origin),this.mirror.getValue()}componentDidMount(){this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s().defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s()(this.ref,this.props.options),this.shared=new h(this.editor,this.props),this.mirror=s()((()=>{}),this.props.options),this.editor.on("electricInput",(()=>{this.mirror.setHistory(this.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(()=>{this.mirror.setCursor(this.editor.getDoc().getCursor())})),this.editor.on("beforeChange",((t,e)=>{if(this.emulating)return;e.cancel(),this.deferred=e;const o=this.mirrorChange(this.deferred);this.props.onBeforeChange&&this.props.onBeforeChange(this.editor,this.deferred,o)})),this.editor.on("change",((t,e)=>{this.mounted&&this.props.onChange&&this.props.onChange(this.editor,e,this.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb)}componentDidUpdate(t){const e={cursor:void 0};this.props.value!==t.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(e.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(t,this.props,e),this.appliedNext=!0),this.shared.applyUserDefined(t,e)}componentWillUnmount(){this.props.editorWillUnmount&&this.props.editorWillUnmount(s())}shouldComponentUpdate(){return!0}render(){const t=this.props.className?`react-codemirror2 ${this.props.className}`:"react-codemirror2";return(0,n.jsx)("div",{className:t,ref:t=>this.ref=t})}}a.displayName="Controlled";class d{static equals(t,e){const o=Object.keys,i=typeof t;return t&&e&&"object"===i&&i===typeof e?o(t).length===o(e).length&&o(t).every((o=>this.equals(t[o],e[o]))):t===e}}class h{constructor(t,e){this.editor=void 0,this.props=void 0,this.editor=t,this.props=e}delegateCursor(t,e,o){const i=this.editor.getDoc();o&&this.editor.focus(),e?i.setCursor(t):i.setCursor(t,void 0,{scroll:!1})}delegateScroll(t){this.editor.scrollTo(t.x,t.y)}delegateSelection(t,e){this.editor.getDoc().setSelections(t),e&&this.editor.focus()}apply(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)}applyNext(t,e,o){t&&t.selection&&t.selection.ranges&&e&&e.selection&&e.selection.ranges&&!d.equals(t.selection.ranges,e.selection.ranges)&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),t&&t.cursor&&e&&e.cursor&&!d.equals(t.cursor,e.cursor)&&this.delegateCursor(o.cursor||e.cursor,e.autoScroll||!1,e.autoCursor||!1),t&&t.scroll&&e&&e.scroll&&!d.equals(t.scroll,e.scroll)&&this.delegateScroll(e.scroll)}applyUserDefined(t,e){e&&e.cursor&&this.delegateCursor(e.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)}wire(t){Object.keys(t||{}).filter((t=>/^on/.test(t))).forEach((t=>{switch(t){case"onBlur":this.editor.on("blur",((t,e)=>{var o,i;null===(o=(i=this.props).onBlur)||void 0===o||o.call(i,this.editor,e)}));break;case"onContextMenu":this.editor.on("contextmenu",((t,e)=>{var o,i;null===(o=(i=this.props).onContextMenu)||void 0===o||o.call(i,this.editor,e)}));break;case"onCopy":this.editor.on("copy",((t,e)=>{var o,i;null===(o=(i=this.props).onCopy)||void 0===o||o.call(i,this.editor,e)}));break;case"onCursor":this.editor.on("cursorActivity",(()=>{var t,e;null===(t=(e=this.props).onCursor)||void 0===t||t.call(e,this.editor,this.editor.getDoc().getCursor())}));break;case"onCursorActivity":this.editor.on("cursorActivity",(()=>{var t,e;null===(t=(e=this.props).onCursorActivity)||void 0===t||t.call(e,this.editor)}));break;case"onCut":this.editor.on("cut",((t,e)=>{var o,i;null===(o=(i=this.props).onCut)||void 0===o||o.call(i,this.editor,e)}));break;case"onDblClick":this.editor.on("dblclick",((t,e)=>{var o,i;null===(o=(i=this.props).onDblClick)||void 0===o||o.call(i,this.editor,e)}));break;case"onDragEnter":this.editor.on("dragenter",((t,e)=>{var o,i;null===(o=(i=this.props).onDragEnter)||void 0===o||o.call(i,this.editor,e)}));break;case"onDragLeave":this.editor.on("dragleave",((t,e)=>{var o,i;null===(o=(i=this.props).onDragLeave)||void 0===o||o.call(i,this.editor,e)}));break;case"onDragOver":this.editor.on("dragover",((t,e)=>{var o,i;null===(o=(i=this.props).onDragOver)||void 0===o||o.call(i,this.editor,e)}));break;case"onDragStart":this.editor.on("dragstart",((t,e)=>{var o,i;null===(o=(i=this.props).onDragStart)||void 0===o||o.call(i,this.editor,e)}));break;case"onDrop":this.editor.on("drop",((t,e)=>{var o,i;null===(o=(i=this.props).onDrop)||void 0===o||o.call(i,this.editor,e)}));break;case"onFocus":this.editor.on("focus",((t,e)=>{var o,i;null===(o=(i=this.props).onFocus)||void 0===o||o.call(i,this.editor,e)}));break;case"onGutterClick":this.editor.on("gutterClick",((t,e,o,i)=>{var r,s;null===(r=(s=this.props).onGutterClick)||void 0===r||r.call(s,this.editor,e,o,i)}));break;case"onInputRead":this.editor.on("inputRead",((t,e)=>{var o,i;null===(o=(i=this.props).onInputRead)||void 0===o||o.call(i,this.editor,e)}));break;case"onKeyDown":this.editor.on("keydown",((t,e)=>{var o,i;null===(o=(i=this.props).onKeyDown)||void 0===o||o.call(i,this.editor,e)}));break;case"onKeyHandled":this.editor.on("keyHandled",((t,e,o)=>{var i,r;null===(i=(r=this.props).onKeyHandled)||void 0===i||i.call(r,this.editor,e,o)}));break;case"onKeyPress":this.editor.on("keypress",((t,e)=>{var o,i;null===(o=(i=this.props).onKeyPress)||void 0===o||o.call(i,this.editor,e)}));break;case"onKeyUp":this.editor.on("keyup",((t,e)=>{var o,i;null===(o=(i=this.props).onKeyUp)||void 0===o||o.call(i,this.editor,e)}));break;case"onMouseDown":this.editor.on("mousedown",((t,e)=>{var o,i;null===(o=(i=this.props).onMouseDown)||void 0===o||o.call(i,this.editor,e)}));break;case"onPaste":this.editor.on("paste",((t,e)=>{var o,i;null===(o=(i=this.props).onPaste)||void 0===o||o.call(i,this.editor,e)}));break;case"onRenderLine":this.editor.on("renderLine",((t,e,o)=>{var i,r;null===(i=(r=this.props).onRenderLine)||void 0===i||i.call(r,this.editor,e,o)}));break;case"onScroll":this.editor.on("scroll",(t=>{var e,o;null===(e=(o=this.props).onScroll)||void 0===e||e.call(o,this.editor,this.editor.getScrollInfo())}));break;case"onSelection":this.editor.on("beforeSelectionChange",((t,e)=>{var o,i;null===(o=(i=this.props).onSelection)||void 0===o||o.call(i,this.editor,e)}));break;case"onTouchStart":this.editor.on("touchstart",((t,e)=>{var o,i;null===(o=(i=this.props).onTouchStart)||void 0===o||o.call(i,this.editor,e)}));break;case"onUpdate":this.editor.on("update",(t=>{var e,o;null===(e=(o=this.props).onUpdate)||void 0===e||e.call(o,this.editor)}));break;case"onViewportChange":this.editor.on("viewportChange",((t,e,o)=>{var i,r;null===(i=(r=this.props).onViewportChange)||void 0===i||i.call(r,this.editor,e,o)}))}}))}}const l=a}}]);