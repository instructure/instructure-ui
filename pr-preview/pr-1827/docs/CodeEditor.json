{"description":"\nA wrapper around the popular [CodeMirror](https://codemirror.net/5/index.html) text editor.\n\n```javascript\n---\ntype: embed\n---\n<ToggleBlockquote\n  summary=\"Upgrade to SourceCodeEditor!\"\n>\n  <ToggleBlockquote.Paragraph>\n    The CodeEditor component is a wrapper for the (older) <Link href=\"https://codemirror.net/5/index.html\" target='_blank'>CodeMirror version 5</Link>.\n  </ToggleBlockquote.Paragraph>\n  <ToggleBlockquote.Paragraph>\n    The new <Link href=\"https://codemirror.net/\" target='_blank'>CodeMirror version 6</Link> is not 100% compatible with V5, so we've made a new wrapper component for it named <Link href=\"/#SourceCodeEditor\">SourceCodeEditor</Link>.\n  </ToggleBlockquote.Paragraph>\n  <ToggleBlockquote.Paragraph>\n    See the <Link href=\"/#CodeEditor/#migration-guide\">migration guide</Link> at the bottom of this page.\n  </ToggleBlockquote.Paragraph>\n</ToggleBlockquote>\n```\n\n### Code layout\n\nThe CodeEditor component can be used to display code via the `defaultValue` prop.\n\n```js\n---\ntype: example\n---\nclass Example extends React.Component {\n  constructor (props) {\n    super()\n    this.state = { code: `function findSequence(goal) {\n  function find(start, history) {\n    if (start == goal)\n      return history;\n    else if (start > goal)\n      return null;\n    else\n      return find(start + 5, \"(\" + history + \" + 5)\") ||\n             find(start * 3, \"(\" + history + \" * 3)\");\n  }\n  return find(1, \"1\");\n}` }\n  }\n\n  handleChange = (value) => {\n    this.setState({ code: value})\n  }\n\n  render () {\n    return (\n      <CodeEditor\n        label='code editor'\n        value={this.state.code}\n        language='javascript'\n        options={{ lineNumbers: false }}\n        onChange={this.handleChange}\n      />\n    )\n  }\n}\n\nrender(<Example />)\n```\n\n### Note! Guide for testing with Jest\n\nIf you are testing a component that utilizes `CodeEditor` as a sub component with `jest`, then from version _8.15.0_ and upwards those test might start to **fail**. This is because the `CodeMirror` language options - which depend on browser API's - are now being statically imported instead of dynamically imported when the browser is available.\n\n`CodeMirror` depends on specific browser API - `document.createRange` -, and since `document.createRange` is not defined in `jsdom`, we have to mock it in order to fix the failing test(s):\n\n```js\n---\ntype: code\n---\n...\n// yourFailingComponent.test.js\nbeforeAll(() => {\n  // CodeMirror langague options depend on createRange function\n  // which is not defined in jsdom environments\n  Document.prototype.createRange = function () {\n    return {\n      setEnd: function () {},\n      setStart: function () {},\n      getBoundingClientRect: function () {\n        return { right: 0 }\n      },\n      getClientRects: function () {\n        return {\n          length: 0,\n          left: 0,\n          right: 0\n        }\n      }\n    }\n  }\n})\ntest('should render', () => {\n  // YourComponent uses InstUI's CodeEditor under the hood\n  const { container } = render(<YourComponent />)\n\n  expect(container).toBeInTheDocument()\n})\n```\n\n### Migration Guide\n\n| Property      | Changed? | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |\n| ------------- | :------: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| label         |    no    | It is still used as label for screen readers.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |\n| language      |    no    | The `language` property has the same values. `<SourceCodeEditor>` has autocomplete and better syntax highlighting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n| value         |   yes    | This prop is needed for the controlled version. The `<SourceCodeEditor>` has a a `defaultValue` prop for uncontrolled mode (recommended to use for the `readOnly` versions too).                                                                                                                                                                                                                                                                                                                                                                                                                               |\n| onChange      |   yes    | It is now required for controlled mode (when a `value` prop is provided).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |\n| readOnly      | slightly | The `readOnly` prop now only accepts boolean. Instead of the special `nocursor` value the `<SourceCodeEditor>` has an `editable` prop: when `editable={false}` the editor is not focusable anymore.                                                                                                                                                                                                                                                                                                                                                                                                            |\n| attachment    | visually | The property works the same as before, but the top/bottom margins changed slightly when attached, and since the background color of the editor is now white, it is recommend to check if changes are needed.                                                                                                                                                                                                                                                                                                                                                                                                   |\n| options       |   yes    | `<SourceCodeEditor>` doesn't have an `options` prop anymore, because the way CodeMirror V6 handles options completely changed. Instead of an options object it can be configured with adding and manually updating \"extensions\". We've added the most commonly used options as separate props to `<SourceCodeEditor>` (e.g.: `lineNumbers`, `lineWrapping`, `autofocus`, `spellcheck`, `direction`, `rtlMoveVisually`). See the [SourceCodeEditor](/#SourceCodeEditor) documentation for all available options. (Please contact us in case you need extra functionality to be implemented in the new version!) |\n| themeOverride |   yes    | The theme and style of `<SourceCodeEditor>` is completely different. The syntax highlighting is using CodeMirror's own color palette. Please consult the new [SourceCodeEditor theme variables table](/#SourceCodeEditor/#SourceCodeEditorTheme).                                                                                                                                                                                                                                                                                                                                                              |\n","displayName":"CodeEditor","methods":[],"props":{"label":{"type":{"name":"string"},"required":true,"description":"The label text that screen readers will read when this component gets\nfocus.","tsType":{"name":"string"}},"language":{"type":{"name":"enum","value":[{"value":"'sh'","computed":false},{"value":"'js'","computed":false},{"value":"'json'","computed":false},{"value":"'javascript'","computed":false},{"value":"'jsx'","computed":false},{"value":"'shell'","computed":false},{"value":"'css'","computed":false},{"value":"'html'","computed":false},{"value":"'markdown'","computed":false},{"value":"'yaml'","computed":false},{"value":"'yml'","computed":false},{"value":"'bash'","computed":false}]},"required":false,"description":"The language to use. When not given, this will default to the first\nlanguage that was loaded.","tsType":{"name":"union","raw":"| 'sh'\n| 'js'\n| 'json'\n| 'javascript'\n| 'jsx'\n| 'shell'\n| 'css'\n| 'html'\n| 'markdown'\n| 'yaml'\n| 'yml'\n| 'bash'","elements":[{"name":"literal","value":"'sh'"},{"name":"literal","value":"'js'"},{"name":"literal","value":"'json'"},{"name":"literal","value":"'javascript'"},{"name":"literal","value":"'jsx'"},{"name":"literal","value":"'shell'"},{"name":"literal","value":"'css'"},{"name":"literal","value":"'html'"},{"name":"literal","value":"'markdown'"},{"name":"literal","value":"'yaml'"},{"name":"literal","value":"'yml'"},{"name":"literal","value":"'bash'"}]},"defaultValue":{"value":"'jsx'","computed":false}},"readOnly":{"type":{"name":"bool"},"required":false,"description":"This disables editing of the editor content by the user.\nIf the special option \"nocursor\" is given (instead of simply true),\nfocusing of the editor is also disallowed.","tsType":{"name":"union","raw":"boolean | 'nocursor'","elements":[{"name":"boolean"},{"name":"literal","value":"'nocursor'"}]},"defaultValue":{"value":"false","computed":false}},"onChange":{"type":{"name":"func"},"required":false,"description":"Called when the value of the component changes.","tsType":{"name":"signature","type":"function","raw":"(value: string) => void","signature":{"arguments":[{"type":{"name":"string"},"name":"value"}],"return":{"name":"void"}}}},"options":{"type":{"name":"object"},"required":false,"description":"Options that are passed to the underlying Codemirror instance. See\nhttps://codemirror.net/doc/manual.html#config","tsType":{"name":"EditorConfiguration"},"defaultValue":{"value":"{\n  styleActiveLine: true\n}","computed":false}},"attachment":{"type":{"name":"enum","value":[{"value":"'bottom'","computed":false},{"value":"'top'","computed":false}]},"required":false,"description":"Sets minor visual styles  (border radius & top/bottom margin)","tsType":{"name":"union","raw":"'bottom' | 'top'","elements":[{"name":"literal","value":"'bottom'"},{"name":"literal","value":"'top'"}]}},"value":{"type":{"name":"string"},"required":false,"description":"The selected value (when controlled via the `onChange` prop)","tsType":{"name":"string"}},"dir":{"required":false,"tsType":{"name":"union","raw":"'ltr' | 'rtl'","elements":[{"name":"literal","value":"'ltr'"},{"name":"literal","value":"'rtl'"}]},"description":""}},"category":"components/deprecated","relativePath":"packages/ui-code-editor/src/CodeEditor/index.tsx","extension":".tsx","srcPath":"packages/ui-code-editor/src/CodeEditor/index.tsx","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-code-editor/src/CodeEditor/index.tsx","packageName":"@instructure/ui-code-editor","requirePath":"@instructure/ui-code-editor/lib/CodeEditor/index","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/packages/ui-code-editor/src/CodeEditor/index.tsx').default","esPath":"@instructure/ui-code-editor/es/CodeEditor/index","themePath":"packages/ui-code-editor/src/CodeEditor/theme.ts","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-code-editor/src/CodeEditor/theme.ts","id":"CodeEditor","title":"CodeEditor"}