{"description":"\n`Drilldown` is a diverse component that displays hierarchical data in a fashion that allows the users to \"drill down\" and dig deeper into the layers (pages) of the data structure. It has similar look and features to the [Menu](Menu), [Select](Select) and [TreeBrowser](TreeBrowser) components.\n\nThe `Drilldown` component exists to support navigating and managing tree structures in compact spaces. With WCAG 2.1 requirements around small viewports, and also with general responsiveness standards the classic tree-navigation and flyout menu patterns got outdated.\n\nSome of Drilldown's features include:\n\n- options that navigate (drill) down in the structure is marked with an arrow;\n- options that navigate back in the structure is always a “back” option at the top of the list;\n- option groups can have titles that have the standard InstUI menu group title style;\n- groups are divided by separator lines;\n- items in groups have no indent unless the group is a checkbox or radio option group, in which case the selected items are marked with a \"check\" icon, all unselected items have an indent;\n- secondary information blocks can be displayed both in-line with the option, or below the option with a dedicated text and color style;\n- the component can be rendered both in-line and in a popover.\n\n### Pages\n\nThe main building blocks of Drilldown are the `Drilldown.Pages`. These represent the layers of the structure and can contain Options, Separators and Groups. Each page has a \"header\" that can contain a page title, the back navigation and a \"page action\" option (see [Page header section](/#Drilldown/#page-header)).\n\nEach page needs an `id` prop that is used in the navigation. Options point to pages with their `subPageId` prop, and the Drilldown itself needs a `rootPageId` that indicates the first root level page, which renders first.\n\n```js\n---\ntype: example\n---\n<Drilldown rootPageId='root' width=\"20rem\" maxHeight=\"30rem\">\n  <Drilldown.Page id=\"root\" renderTitle='Groceries'>\n    <Drilldown.Option id=\"Produce\" subPageId=\"Produce\">\n      Produce\n    </Drilldown.Option>\n    <Drilldown.Option id=\"Grains and Bread\" subPageId=\"Grains and Bread\">\n      Grains and Bread\n    </Drilldown.Option>\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Produce\" renderTitle='Produce'>\n    <Drilldown.Option id=\"Fruits\" subPageId=\"Fruits\">\n      Fruits\n    </Drilldown.Option>\n    <Drilldown.Option id=\"Vegtables\" subPageId=\"Vegtables\">\n      Vegtables\n    </Drilldown.Option>\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Grains and Bread\" renderTitle='Grains and Bread'>\n    {['Pasta', 'Rice', 'Bread', 'Flour', 'Cereal', 'Oats'].map(\n      item => <Drilldown.Option id={item} key={item}>{item}</Drilldown.Option>\n    )}\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Fruits\" renderTitle='Fruits'>\n    {['Apple', 'Orange', 'Cherry', 'Grapefruit', 'Mango', 'Banana', 'Strawberry'].map(\n      item => <Drilldown.Option id={item} key={item}>{item}</Drilldown.Option>\n    )}\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Vegtables\" renderTitle='Vegtables'>\n    {['Tomato', 'Cucumber', 'Eggplant', 'Lettuce', 'Garlic', 'Onion', 'Corn', 'Carrot', 'Bell pepper'].map(\n      item => <Drilldown.Option id={item} key={item}>{item}</Drilldown.Option>\n    )}\n  </Drilldown.Page>\n</Drilldown>\n```\n\n### Options\n\n`Drilldown.Option` is the main child component of Drilldown. The content can be a ReactNode or a function returning a ReactNode. The function has an object as its parameter, containing the option's `id`, `variant` and `isSelected` state.\n\n> Note: Drilldown is based on the [Options](Options) component, so the Drilldown.Options are rendered as `Options.Item` components under the hood. This is why the `variant` parameter has the values of Options.Item's `variant` prop.\n\n```js\n---\ntype: example\n---\n<Drilldown rootPageId='root' width=\"20rem\" maxHeight=\"30rem\">\n  <Drilldown.Page id=\"root\">\n    <Drilldown.Option id=\"option1\">\n      Option\n    </Drilldown.Option>\n    <Drilldown.Option id=\"option2\">\n      {(props) => `Option ${props.variant === 'highlighted'\n        ? 'is highlighted'\n        : 'is not highlighted'}`}\n    </Drilldown.Option>\n    <Drilldown.Option id=\"option3\">\n      <Pill>Pill</Pill> Option\n    </Drilldown.Option>\n    <Drilldown.Option id=\"option4\" disabled>\n      Option\n    </Drilldown.Option>\n  </Drilldown.Page>\n</Drilldown>\n```\n\nOptions can be links too. If the `href` prop is set, the option renders as an `<a>` element.\n\n```js\n---\ntype: example\n---\n<Drilldown rootPageId='root' width=\"20rem\" maxHeight=\"30rem\">\n  <Drilldown.Page id=\"root\">\n    <Drilldown.Option id=\"linkExampleOption1\" href=\"/#Options\">\n      Options component\n    </Drilldown.Option>\n    <Drilldown.Option id=\"linkExampleOption2\"href=\"/#Menu\">\n      Menu component\n    </Drilldown.Option>\n    <Drilldown.Option id=\"linkExampleOption3\" href=\"/#Select\">\n      Options component\n    </Drilldown.Option>\n    <Drilldown.Option id=\"linkExampleOption4\" href=\"/#SimpleSelect\" disabled>\n      SimpleSelect component\n    </Drilldown.Option>\n    <Drilldown.Option id=\"linkExampleOption5\" href=\"/#TreeBrowser\">\n      TreeBrowser component\n    </Drilldown.Option>\n  </Drilldown.Page>\n</Drilldown>\n```\n\nJust like `Options.Item`, `Drilldown.Option` can render a description under the label and icons before or after the label.\n\n```js\n---\ntype: example\n---\n<Drilldown rootPageId='root' width=\"20rem\" maxHeight=\"30rem\">\n  <Drilldown.Page id=\"root\">\n    <Drilldown.Option\n      id=\"renderElementExampleOption1\"\n      description=\"Curabitur fringilla, urna ut efficitur molestie, nibh lacus tincidunt elit, ut tempor ipsum nunc sit amet massa.\"\n      renderBeforeLabel={IconCheckSolid}\n      renderAfterLabel={IconArrowOpenEndSolid}\n      beforeLabelContentVAlign=\"start\"\n      afterLabelContentVAlign=\"start\"\n    >\n      Option\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"renderElementExampleOption2\"\n      description=\"Curabitur fringilla, urna ut efficitur molestie, nibh lacus tincidunt elit, ut tempor ipsum nunc sit amet massa.\"\n      renderBeforeLabel={IconCheckSolid}\n      renderAfterLabel={IconArrowOpenEndSolid}\n      beforeLabelContentVAlign=\"center\"\n      afterLabelContentVAlign=\"center\"\n    >\n      Option\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"renderElementExampleOption3\"\n      description=\"Curabitur fringilla, urna ut efficitur molestie, nibh lacus tincidunt elit, ut tempor ipsum nunc sit amet massa.\"\n      renderBeforeLabel={IconCheckSolid}\n      renderAfterLabel={IconArrowOpenEndSolid}\n      beforeLabelContentVAlign=\"end\"\n      afterLabelContentVAlign=\"end\"\n    >\n      Option\n    </Drilldown.Option>\n  </Drilldown.Page>\n</Drilldown>\n```\n\nAdditionally, the `renderLabelInfo` prop can render text or other elements next to the label.\n\n```js\n---\ntype: example\n---\nconst VideoSettingsExample = (props) => {\n  const [selectedCaption, setSelectedCaption] = useState('English')\n  const [selectedSpeed, setSelectedSpeed] = useState('Normal')\n  const [selectedQuality, setSelectedQuality] = useState('720p')\n  const [isCommentsOn, setIsCommentsOn] = useState(true)\n\n  const renderTrigger = () => {\n    return <Button renderIcon={IconSettingsSolid}>Video Settings</Button>\n  }\n\n  const renderSelected = (props, value) => {\n    return (\n      <span\n        style={{ color: props.variant === 'default' ? '#6B7780' : undefined }}\n      >\n        {value}\n      </span>\n    )\n  }\n\n  const renderSelectGroup = (options, selectedState, setSelectedState) => {\n    return (\n      <Drilldown.Group\n        id={`${selectedState}Group`}\n        selectableType=\"single\"\n        defaultSelected={[selectedState]}\n        onSelect={(_event, { value }) => {\n          setSelectedState(value[0])\n        }}\n      >\n        {options.map((option, idx) => (\n          <Drilldown.Option\n            key={idx}\n            id={option}\n            value={option}\n            onOptionClick={(_event, { goToPreviousPage }) => {\n              goToPreviousPage()\n            }}\n          >\n            {option}\n          </Drilldown.Option>\n        ))}\n      </Drilldown.Group>\n    )\n  }\n\n  return (\n    <Drilldown\n      rootPageId=\"videoSettings\"\n      width=\"18.5rem\"\n      maxHeight=\"26.5rem\"\n      shouldHideOnSelect={false}\n      trigger={renderTrigger()}\n      onToggle={(_event, { shown, goToPage }) => {\n        shown && goToPage('videoSettings')\n      }}\n    >\n      <Drilldown.Page\n        id=\"videoSettings\"\n        renderTitle=\"Video Settings\"\n        withoutHeaderSeparator\n      >\n        <Drilldown.Option\n          id=\"captions\"\n          subPageId=\"captions\"\n          renderLabelInfo={(props) => renderSelected(props, selectedCaption)}\n        >\n          Captions\n        </Drilldown.Option>\n        <Drilldown.Option\n          id=\"speed\"\n          subPageId=\"speed\"\n          renderLabelInfo={(props) => renderSelected(props, selectedSpeed)}\n        >\n          Speed\n        </Drilldown.Option>\n        <Drilldown.Option\n          id=\"quality\"\n          subPageId=\"quality\"\n          renderLabelInfo={(props) => renderSelected(props, selectedQuality)}\n        >\n          Quality\n        </Drilldown.Option>\n        <Drilldown.Option\n          id=\"comments\"\n          themeOverride={{ padding: '0.25rem 0.75rem' }}\n          afterLabelContentVAlign=\"center\"\n          onOptionClick={() => {\n            setIsCommentsOn((state) => !state)\n          }}\n          role=\"checkbox\"\n          aria-checked={isCommentsOn ? 'true' : 'false'}\n          // prevents reading the label of the checkbox too (duplicated)\n          aria-describedby={['']}\n          renderLabelInfo={\n            <Checkbox\n              label={<ScreenReaderContent>Comments</ScreenReaderContent>}\n              variant=\"toggle\"\n              readOnly\n              checked={isCommentsOn}\n              onChange={() => {\n                // needed for controlled Checkbox,\n                // but the state is handled on the Drilldown.Option\n              }}\n              labelPlacement=\"start\"\n              tabIndex={-1}\n            />\n          }\n        >\n          Comments\n        </Drilldown.Option>\n      </Drilldown.Page>\n\n      <Drilldown.Page id=\"captions\" renderTitle=\"Captions\">\n        {renderSelectGroup(\n          props.captionOptions,\n          selectedCaption,\n          setSelectedCaption\n        )}\n      </Drilldown.Page>\n\n      <Drilldown.Page id=\"speed\" renderTitle=\"Speed\">\n        {renderSelectGroup(\n          props.speedOptions,\n          selectedSpeed,\n          setSelectedSpeed\n        )}\n      </Drilldown.Page>\n\n      <Drilldown.Page id=\"quality\" renderTitle=\"Quality\">\n        {renderSelectGroup(\n          props.qualityOptions,\n          selectedQuality,\n          setSelectedQuality\n        )}\n      </Drilldown.Page>\n    </Drilldown>\n  )\n}\n\nrender(\n  <VideoSettingsExample\n    captionOptions={['Off', 'English', 'German', 'Spanish', 'Durtch']}\n    speedOptions={['0.5x', 'Normal', '1.25x', '1.5x', '2x']}\n    qualityOptions={['Auto', '360p', '480p', '720p', '1080p']}\n  />\n)\n```\n\n### Displaying Drilldown in a Popover\n\nJust like [Menu](Menu), Drilldown accepts a `trigger` property: it will render a toggle button which, when clicked, shows or hides the Drilldown in a [Popover](Popover). Drilldown passes many of its props to Popover in this case (`mountNode`, `shouldContainFocus`, `withArrow`, etc.).\n\n```js\n---\ntype: example\n---\nconst SelectContactsExample = (props) => {\n  const [selected, setSelected] = useState([])\n\n  const getCategoryById = (id) => {\n    return props.contactsData.find((cat) => cat.id === id)\n  }\n\n  const selectContacts = (values) => {\n    setSelected(values)\n  }\n\n  const renderContacts = (contacts) => {\n    return contacts.map((contact, idx) => {\n      const { id, name, email } = contact\n\n      return (\n        <Drilldown.Option\n          key={idx}\n          id={id}\n          value={name}\n          description={\n            <TruncateText>\n              #{idx + 1} | {email}\n            </TruncateText>\n          }\n          onOptionClick={() => {\n            selectContacts([contact])\n          }}\n        >\n          {name}\n        </Drilldown.Option>\n      )\n    })\n  }\n\n  const renderSubCategoryOptions = (subCategories = []) => {\n    return subCategories.map((subCatId, idx) => {\n      const category = getCategoryById(subCatId)\n      const { id, title } = category\n\n      return (\n        <Drilldown.Option key={idx} id={id} subPageId={id}>\n          {title}\n        </Drilldown.Option>\n      )\n    })\n  }\n\n  const renderPage = (category, key) => {\n    const { id, title, subCategories = [], options = [] } = category\n\n    const allContacts = getAllContactsFromCategory(category)\n\n    return (\n      <Drilldown.Page\n        key={key}\n        id={id}\n        renderTitle={title}\n        renderActionLabel={`Send to All (${allContacts.length})`}\n        onHeaderActionClicked={() => {\n          selectContacts(allContacts)\n        }}\n      >\n        {[\n          ...renderSubCategoryOptions(subCategories),\n          ...renderContacts(options)\n        ]}\n      </Drilldown.Page>\n    )\n  }\n\n  const getAllContactsFromCategory = (category) => {\n    let allContacts = []\n\n    const addOptions = (cat) => {\n      const { subCategories = [], options = [] } = cat\n      allContacts.push(...options)\n\n      subCategories.forEach((subCatId) => {\n        addOptions(getCategoryById(subCatId))\n      })\n    }\n\n    addOptions(category)\n    return allContacts\n  }\n\n  return (\n    <Flex alignItems=\"start\">\n      <Flex.Item width=\"20rem\" textAlign=\"center\" padding=\"x-small 0 0\">\n        <Drilldown\n          rootPageId=\"contacts\"\n          width=\"18.5rem\"\n          maxHeight=\"26.5rem\"\n          trigger={<Button>Select Contacts</Button>}\n          onToggle={(_event, args) => {\n            args.shown && selectContacts([])\n          }}\n        >\n          {props.contactsData.map((page, idx) => renderPage(page, idx))}\n        </Drilldown>\n      </Flex.Item>\n\n      <Flex.Item padding=\"0 0 0 large\" shouldGrow shouldShrink>\n        <View as=\"div\" padding=\"small\" background=\"primary\">\n          <div>\n            <Text weight=\"bold\">\n              Selected ({selected ? selected.length : 0}):\n            </Text>\n          </div>\n          <div>{selected.map((a) => a.name).join(', ')}</div>\n        </View>\n      </Flex.Item>\n    </Flex>\n  )\n}\n\nconst generateCategory = (name, count) => {\n  return Array(count)\n    .fill(name)\n    .map((category, idx) => {\n      const id = category.replace(/(-|\\s)/g, '').toLowerCase()\n      return {\n        id: `${id}${idx + 1}`,\n        category,\n        name: `${category} ${idx + 1}`,\n        email: `${id}${idx + 1}@randommail.com`\n      }\n    })\n}\n\nconst contactsData = [\n  {\n    id: 'contacts',\n    title: 'Contacts',\n    subCategories: ['administrators', 'teachers', 'students']\n  },\n  {\n    id: 'administrators',\n    title: 'Administrators',\n    subCategories: ['accountAdmins', 'subAccountAdmins']\n  },\n  {\n    id: 'accountAdmins',\n    title: 'Account Admins',\n    options: generateCategory('Account Admin', 8)\n  },\n  {\n    id: 'subAccountAdmins',\n    title: 'Sub-Account Admins',\n    options: generateCategory('Sub-Account Admin', 12)\n  },\n  {\n    id: 'teachers',\n    title: 'Teachers',\n    options: generateCategory('Teacher', 23)\n  },\n  {\n    id: 'students',\n    title: 'Students',\n    options: generateCategory('Student', 34)\n  }\n]\n\nrender(<SelectContactsExample contactsData={contactsData} />)\n```\n\n### Page header\n\nEach page can have a \"header\" with three optional items. The header and the Drilldown content are separated with a `<Drilldown.Separator>` (can be hidden with the `withoutHeaderSeparator` prop.)\n\n##### Title\n\nThe `renderTitle` prop sets the title of the Page.\n\n##### Action\n\nThe `renderActionLabel` displays an \"action\" option that can be used as e.g.: a \"Select all\" function. The action itself can be set with the `onHeaderActionClicked` prop.\n\n##### Back navigation\n\nOn every page (except the root page) a \"Back\" navigation option is displayed with an arrow.\n\nThe label can be changed with `renderBackButtonLabel` prop (defaults to \"Back\"). If a function is passed, it has a `prevPageTitle` parameter.\n\nThis option will always display on the page when needed and cannot be disabled.\n\n```js\n---\ntype: example\n---\nconst BackNavigationExample = () => {\n  const [showTitle, setShowTitle] = useState(true)\n  const [showAction, setShowAction] = useState(true)\n  const [showAlternativeBackLabel, setShowAlternativeBackLabel] =\n    useState(false)\n\n  return (\n    <Flex alignItems=\"start\">\n      <Flex.Item>\n        <Drilldown rootPageId=\"root\" width=\"20rem\" maxHeight=\"30rem\">\n          <Drilldown.Page\n            id=\"root\"\n            renderTitle={showTitle && 'Root page'}\n            renderActionLabel={showAction && 'Action!'}\n          >\n            <Drilldown.Option id=\"BackNavigationRoot1\" subPageId=\"secondPage\">\n              Option\n            </Drilldown.Option>\n            <Drilldown.Option id=\"BackNavigationRoot2\" subPageId=\"secondPage\">\n              Option\n            </Drilldown.Option>\n            <Drilldown.Option id=\"BackNavigationRoot3\" subPageId=\"secondPage\">\n              Option\n            </Drilldown.Option>\n          </Drilldown.Page>\n\n          <Drilldown.Page\n            id=\"secondPage\"\n            renderTitle={showTitle && 'Second page'}\n            renderActionLabel={showAction && 'Action!'}\n            renderBackButtonLabel={\n              showAlternativeBackLabel\n                ? (prevPageTitle) =>\n                    prevPageTitle ? `Back to ${prevPageTitle}` : 'Back'\n                : undefined\n            }\n          >\n            <Drilldown.Option id=\"BackNavigationSecondPage1\">\n              Option\n            </Drilldown.Option>\n            <Drilldown.Option id=\"BackNavigationSecondPage2\">\n              Option\n            </Drilldown.Option>\n            <Drilldown.Option id=\"BackNavigationSecondPage3\">\n              Option\n            </Drilldown.Option>\n          </Drilldown.Page>\n        </Drilldown>\n      </Flex.Item>\n\n      <Flex.Item padding=\"0 0 0 large\" shouldGrow shouldShrink>\n        <FormFieldGroup description=\"Drilldown Group example settings\">\n          <Checkbox\n            checked={!showTitle ? false : showAlternativeBackLabel}\n            disabled={!showTitle}\n            label='Display previous page title in back navigation (\"Show page title\" needs to be turned on)'\n            variant=\"toggle\"\n            onChange={() => {\n              setShowAlternativeBackLabel(!showAlternativeBackLabel)\n            }}\n          />\n          <Checkbox\n            checked={showTitle}\n            label=\"Show page title\"\n            variant=\"toggle\"\n            onChange={() => {\n              setShowTitle(!showTitle)\n            }}\n          />\n          <Checkbox\n            checked={showAction}\n            label=\"Show action label\"\n            variant=\"toggle\"\n            onChange={() => {\n              setShowAction(!showAction)\n            }}\n          />\n        </FormFieldGroup>\n      </Flex.Item>\n    </Flex>\n  )\n}\n\nrender(<BackNavigationExample />)\n```\n\n### Option Groups\n\nWrapping the Options in `<Drilldown.Group>` will separate these options with separators. These separators can be hidden, and you can provide a label with the `renderGroupTitle` prop.\n\n```js\n---\ntype: example\n---\nconst GroupsExample = () => {\n  const [showSeparators, setShowSeparators] = useState(true)\n  const [showTitles, setShowTitles] = useState(true)\n\n  return (\n    <Flex alignItems=\"start\">\n      <Flex.Item>\n        <Drilldown rootPageId=\"root\" width=\"20rem\" maxHeight=\"30rem\">\n          <Drilldown.Page id=\"root\">\n            <Drilldown.Group\n              id=\"italy\"\n              renderGroupTitle={showTitles && 'Italy'}\n              withoutSeparators={!showSeparators}\n            >\n              <Drilldown.Option id=\"item11\">Milano</Drilldown.Option>\n              <Drilldown.Option id=\"item12\">Florence</Drilldown.Option>\n            </Drilldown.Group>\n\n            <Drilldown.Group\n              id=\"france\"\n              renderGroupTitle={showTitles && 'France'}\n              withoutSeparators={!showSeparators}\n            >\n              <Drilldown.Option id=\"item21\">Lyon</Drilldown.Option>\n              <Drilldown.Option id=\"item22\">Bordeaux</Drilldown.Option>\n            </Drilldown.Group>\n\n            <Drilldown.Group\n              id=\"germany\"\n              renderGroupTitle={showTitles && 'Germany'}\n              withoutSeparators={!showSeparators}\n            >\n              <Drilldown.Option id=\"item31\">Frankfurt</Drilldown.Option>\n              <Drilldown.Option id=\"item32\">Dortmund</Drilldown.Option>\n            </Drilldown.Group>\n          </Drilldown.Page>\n        </Drilldown>\n      </Flex.Item>\n\n      <Flex.Item padding=\"0 0 0 large\">\n        <FormFieldGroup description=\"Drilldown Group example settings\">\n          <Checkbox\n            checked={showSeparators}\n            label=\"Show separators\"\n            variant=\"toggle\"\n            onChange={() => {\n              setShowSeparators(!showSeparators)\n            }}\n          />\n          <Checkbox\n            checked={showTitles}\n            label=\"Show group titles\"\n            variant=\"toggle\"\n            onChange={() => {\n              setShowTitles(!showTitles)\n            }}\n          />\n        </FormFieldGroup>\n      </Flex.Item>\n    </Flex>\n  )\n}\n\nrender(<GroupsExample />)\n```\n\n#### Selectable Groups\n\nThe `selectableType` prop makes a group either a single-select (radio) or multi-select (checkbox) group. Selected options are indicated with a \"check\" icon.\n\nIt is recommended to set the `value` prop of the options in a group, because the `defaultSelected` and `onSelect` props are based on these values.\n\n##### Single-select Group\n\n```js\n---\ntype: example\n---\n<Drilldown rootPageId='root' width=\"20rem\" maxHeight=\"30rem\">\n  <Drilldown.Page id=\"root\">\n    <Drilldown.Group\n      id=\"group1\"\n      renderGroupTitle=\"Select one option\"\n      selectableType='single'\n    >\n      <Drilldown.Option id=\"+2\" value=\"+2\" defaultSelected>\n        Strongly agree\n      </Drilldown.Option>\n      <Drilldown.Option id=\"+1\" value=\"+1\">\n        Somewhat agree\n      </Drilldown.Option>\n      <Drilldown.Option id=\"0\" value=\"0\">\n        Neither agree nor disagree\n      </Drilldown.Option>\n      <Drilldown.Option id=\"-1\" value=\"-1\">\n        Somewhat disagree\n      </Drilldown.Option>\n      <Drilldown.Option id=\"-2\" value=\"-2\">\n        Strongly disagree\n      </Drilldown.Option>\n    </Drilldown.Group>\n  </Drilldown.Page>\n</Drilldown>\n```\n\n##### Multi-select Group\n\n```js\n---\ntype: example\n---\nconst SelectMembersExample = (props) => {\n  const [selected, setSelected] = useState({})\n\n  const selectMembers = (groupValues) => {\n    setSelected((selected) => ({\n      ...selected,\n      ...groupValues\n    }))\n  }\n\n  const renderGroups = (groups) => {\n    return groups.map((group, idx) => {\n      const { id, label, members, selectableType } = group\n\n      return (\n        <Drilldown.Group\n          id={id}\n          key={idx}\n          renderGroupTitle={label}\n          selectableType={selectableType}\n          onSelect={(_e, { value }) => {\n            selectMembers({ [id]: value })\n          }}\n        >\n          {members.map((member, idx) => {\n            const { id, name } = member\n            return (\n              <Drilldown.Option key={idx} id={id} value={name}>\n                {name}\n              </Drilldown.Option>\n            )\n          })}\n        </Drilldown.Group>\n      )\n    })\n  }\n\n  const renderSubPageOptions = (subPages = []) => {\n    return subPages.map((subPage, idx) => {\n      const { id, label } = subPage\n\n      return (\n        <Drilldown.Option key={idx} id={id} subPageId={id}>\n          {label}\n        </Drilldown.Option>\n      )\n    })\n  }\n\n  const renderPage = (category, key) => {\n    const { id, subPages = [], groups = [] } = category\n\n    return (\n      <Drilldown.Page key={key} id={id}>\n        {subPages.length > 0 && renderSubPageOptions(subPages)}\n        {groups.length > 0 && renderGroups(groups)}\n      </Drilldown.Page>\n    )\n  }\n\n  return (\n    <Flex alignItems=\"start\">\n      <Flex.Item width=\"20rem\" textAlign=\"center\" padding=\"x-small 0 0\">\n        <Drilldown\n          rootPageId=\"root\"\n          width=\"18.5rem\"\n          maxHeight=\"26.5rem\"\n          trigger={<Button>Select Members</Button>}\n          shouldHideOnSelect={false}\n          onToggle={(_event, { shown }) => {\n            shown && selectMembers({})\n          }}\n        >\n          {props.pages.map((page, idx) => renderPage(page, idx))}\n        </Drilldown>\n      </Flex.Item>\n\n      <Flex.Item padding=\"0 0 0 large\" shouldGrow shouldShrink>\n        <View as=\"div\" padding=\"small\" background=\"primary\">\n          <div>\n            <Text weight=\"bold\">Selected members:</Text>\n          </div>\n          <div>\n            <List>\n              {Object.entries(selected).map(([groupId, values], idx) => {\n                return values.length > 0 ? (\n                  <List.Item key={idx}>\n                    <b>{groupId}</b>: {values.join(', ')}\n                  </List.Item>\n                ) : null\n              })}\n            </List>\n          </div>\n        </View>\n      </Flex.Item>\n    </Flex>\n  )\n}\n\nconst pages = [\n  {\n    id: 'root',\n    subPages: [\n      { id: 'courses', label: 'Courses' },\n      { id: 'groups', label: 'Groups' },\n      { id: 'consortiums', label: 'Consortiums' }\n    ]\n  },\n  {\n    id: 'courses',\n    groups: [\n      {\n        id: 'course1',\n        label: 'Course 1',\n        selectableType: 'multiple',\n        members: [\n          { id: 'course1_1', name: 'Hanna Septimus' },\n          { id: 'course1_2', name: 'Kadin Press' },\n          { id: 'course1_3', name: 'Kaiya Botosh' }\n        ]\n      },\n      {\n        id: 'course2',\n        label: 'Course 2',\n        selectableType: 'multiple',\n        members: [\n          { id: 'course2_1', name: 'Leo Calzoni' },\n          { id: 'course2_2', name: 'Gretchen Gouse' }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'groups',\n    groups: [\n      {\n        id: 'group1',\n        label: 'Group 1',\n        selectableType: 'multiple',\n        members: [\n          { id: 'groups1_1', name: 'Penka Okabe' },\n          { id: 'groups1_2', name: 'Ausma Meggyesfalvi' },\n          { id: 'groups1_3', name: 'Endrit Höfler' },\n          { id: 'groups1_4', name: 'Ryuu Carey' },\n          { id: 'groups1_5', name: 'Daphne Dioli' }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'consortiums',\n    groups: [\n      {\n        id: 'consortium1',\n        label: 'Consortium 1',\n        selectableType: 'multiple',\n        members: [\n          { id: 'consortium1_1', name: 'Brahim Gustavsson' },\n          { id: 'consortium1_2', name: 'Elodia Dreschner' }\n        ]\n      },\n      {\n        id: 'consortium2',\n        label: 'Consortium 2',\n        selectableType: 'multiple',\n        members: [\n          { id: 'consortium2_1', name: 'Darwin Peter' },\n          { id: 'consortium2_2', name: 'Sukhrab Burnham' }\n        ]\n      },\n      {\n        id: 'consortium3',\n        label: 'Consortium 3',\n        selectableType: 'multiple',\n        members: [\n          { id: 'consortium3_1', name: 'Jeffry Antonise' },\n          { id: 'consortium3_2', name: 'Bia Regenbogen' }\n        ]\n      }\n    ]\n  }\n]\n\nrender(<SelectMembersExample pages={pages} />)\n```\n\n### Disabled prop\n\nYou can disable the whole Drilldown or its sub-components with the `disabled` prop. The only option that can not be disabled is the Back navigation.\n\n```js\n---\ntype: example\n---\nconst DisabledExample = () => {\n  const [disabled, setDisabled] = useState('None')\n  const [withTrigger, setWithTrigger] = useState(false)\n\n  const disabledDrilldown = disabled === 'Drilldown'\n  const disabledPages = disabled === 'Pages'\n  const disabledGroups = disabled === 'Groups'\n  const disabledOptions = disabled === 'Options'\n\n  return (\n    <Flex alignItems=\"start\">\n      <Flex.Item width=\"20rem\" textAlign=\"center\" padding=\"x-small 0 0\">\n        <View textAlign=\"start\">\n          <Drilldown\n            rootPageId=\"root\"\n            width=\"20rem\"\n            maxHeight=\"30rem\"\n            trigger={withTrigger && <Button>Toggle button</Button>}\n            disabled={disabledDrilldown}\n          >\n            <Drilldown.Page\n              id=\"root\"\n              renderTitle=\"Root page\"\n              renderActionLabel=\"Action\"\n              disabled={disabledPages}\n            >\n              <Drilldown.Option\n                id=\"disabledOption1\"\n                subPageId=\"secondPage\"\n                disabled={disabledOptions}\n              >\n                Option with subPage navigation\n              </Drilldown.Option>\n              <Drilldown.Option\n                id=\"disabledOption2\"\n                disabled={disabledOptions}\n              >\n                Option\n              </Drilldown.Option>\n              <Drilldown.Group\n                id=\"group1\"\n                renderGroupTitle=\"Selectable Group\"\n                selectableType=\"multiple\"\n                disabled={disabledGroups}\n              >\n                {['Apple', 'Orange', 'Banana', 'Strawberry'].map((item) => (\n                  <Drilldown.Option\n                    id={item}\n                    key={item}\n                    value={item}\n                    defaultSelected={item === 'Apple'}\n                    disabled={disabledOptions}\n                  >\n                    {item}\n                  </Drilldown.Option>\n                ))}\n              </Drilldown.Group>\n            </Drilldown.Page>\n\n            <Drilldown.Page\n              id=\"secondPage\"\n              renderTitle=\"Second page\"\n              disabled={disabledPages}\n            >\n              {['Option 1', 'Option 2', 'Option 3', 'Option 4'].map(\n                (item) => (\n                  <Drilldown.Option\n                    id={item}\n                    key={item}\n                    disabled={disabledOptions}\n                  >\n                    {item}\n                  </Drilldown.Option>\n                )\n              )}\n            </Drilldown.Page>\n          </Drilldown>\n        </View>\n      </Flex.Item>\n\n      <Flex.Item padding=\"0 0 0 large\" shouldGrow shouldShrink>\n        <FormFieldGroup\n          description={<ScreenReaderContent>Settings</ScreenReaderContent>}\n          colSpacing=\"medium\"\n          layout=\"columns\"\n          vAlign=\"top\"\n        >\n          <RadioInputGroup\n            onChange={(_event, value) => {\n              setDisabled(value)\n            }}\n            defaultValue=\"None\"\n            name=\"disabledPart\"\n            description=\"Select disabled\"\n          >\n            {['None', 'Drilldown', 'Pages', 'Groups', 'Options'].map(\n              (part) => (\n                <RadioInput key={part} value={part} label={part} />\n              )\n            )}\n          </RadioInputGroup>\n\n          <Checkbox\n            checked={withTrigger}\n            label=\"With toggle button\"\n            variant=\"toggle\"\n            onChange={() => {\n              setWithTrigger(!withTrigger)\n            }}\n          />\n        </FormFieldGroup>\n      </Flex.Item>\n    </Flex>\n  )\n}\n\nrender(<DisabledExample />)\n```\n\n### shouldHideOnSelect\n\nBy default, if the Drilldown is in a Popover, it will hide if an option is selected (except on page navigation). You can disable this behavior by setting `shouldHideOnSelect={false}`.\n\nYou can still manually close the Popover on option click or select, calling the `.hide()` method on the `drilldown` parameter of the `onOptionClick` and `onSelect` callbacks.\n\n```js\n---\ntype: example\n---\n<Drilldown\n  rootPageId='root'\n  width=\"20rem\"\n  maxHeight=\"30rem\"\n  trigger={<Button>Toggle button</Button>}\n  shouldHideOnSelect={false}\n>\n  <Drilldown.Page id=\"root\" renderTitle='Should not hide on select'>\n    <Drilldown.Group id=\"group1\" selectableType='single'>\n      <Drilldown.Option value=\"1\" id=\"shouldHideOption1\">\n        Option 1\n      </Drilldown.Option>\n      <Drilldown.Option value=\"2\" id=\"shouldHideOption2\">\n        Option 2\n      </Drilldown.Option>\n      <Drilldown.Option value=\"3\" id=\"shouldHideOption3\">\n        Option 3\n      </Drilldown.Option>\n    </Drilldown.Group>\n    <Drilldown.Option\n      id=\"close\"\n      renderBeforeLabel={<IconXLine />}\n      onOptionClick={(_event, data) => {\n        data.drilldown.hide()\n      }}\n      themeOverride={(_componentTheme, currentTheme) => {\n        return { color: currentTheme.colors.textDanger }\n      }}\n    >\n      Close Popover\n    </Drilldown.Option>\n  </Drilldown.Page>\n</Drilldown>\n```\n\n### Page navigation\n\nThe recommended way to navigate between pages is to add the `subaPageId` prop to the `<Drilldown.Option>`-s. This will make an arrow display on the option to indicate that it navigates to another page.\n\nIf you have to manually navigate to another page on click or on Popover toggle, the `onOptionClick` and `onToggle` callbacks expose methods for page navigation and the current page history.\n\n- `pageHistory`: An array of the Page Id-s in \"breadcrumbs\" fashion.\n- `goToPreviousPage`: A method that navigates to the previous page (if not on root page).\n- `goToPage`: A method that navigates to a page, defined by the page id. If that page is already in the page history, it goes back to that level. If it is not in the history and the page exists, it adds it to the page history and goes there.\n\nThese two navigation methods are also available as public methods on the Drilldown component.\n\n```js\n---\ntype: example\n---\n<Drilldown\n  rootPageId='Root Page'\n  width=\"20rem\"\n  maxHeight=\"30rem\"\n>\n  <Drilldown.Page id=\"Root Page\" renderTitle='Root page'>\n    <Drilldown.Option id=\"navRootOption1\" subPageId='Page Two'>\n      Go to Page Two\n    </Drilldown.Option>\n    <Drilldown.Option id=\"navRootOption2\" subPageId='Page Three'>\n      Go to Page Three\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"navRootOption3\"\n      onOptionClick={(_event, args) => {\n        console.log(args.pageHistory)\n        const nav = args.goToPage('Page Two')\n        console.log(`Navigated from \"${nav.prevPageId}\" to \"${nav.newPageId}\"`)\n      }}\n      description='Navigates to Page Two on click and logs the pageHistory on the console.'\n    >\n      Manual navigation to Page Two\n    </Drilldown.Option>\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Page Two\" renderTitle='Page Two'>\n    <Drilldown.Option id=\"navPage2Option1\" subPageId='Page Three'>\n      Go to Page Three\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"navPage2Option2\"\n      onOptionClick={(_event, args) => {\n        console.log(args.pageHistory)\n        const nav = args.goToPreviousPage()\n        console.log(`Navigated back from \"${nav.prevPageId}\" to previous \"${nav.newPageId}\"`)\n      }}\n      description='Navigates to the previous page on click and logs the pageHistory on the console.'\n    >\n      Manual \"Back\" navigation\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"navPage2Option3\"\n      onOptionClick={(_event, args) => {\n        console.log(args.pageHistory)\n        const nav = args.goToPage('Page Three')\n        console.log(`Navigated from \"${nav.prevPageId}\" to \"${nav.newPageId}\"`)\n      }}\n      description='Navigates to Page Two on click and logs the pageHistory on the console.'\n    >\n      Manual navigation to Page Three\n    </Drilldown.Option>\n  </Drilldown.Page>\n\n  <Drilldown.Page id=\"Page Three\" renderTitle='Page Three'>\n    <Drilldown.Option\n      id=\"navPage3Option1\"\n      onOptionClick={(_event, args) => {\n        console.log(args.pageHistory)\n        const nav = args.goToPage(args.pageHistory[0])\n        console.log(`Navigated from \"${nav.prevPageId}\" to \"${nav.newPageId}\"`)\n      }}\n      description='Navigates to the first page on click and logs the pageHistory on the console.'\n    >\n      Manual \"Back\" navigation\n    </Drilldown.Option>\n    <Drilldown.Option\n      id=\"navPage3Option2\"\n      onOptionClick={(_event, args) => {\n        console.log(args.pageHistory)\n        const nav = args.goToPreviousPage()\n        console.log(`Navigated back from \"${nav.prevPageId}\" to previous \"${nav.newPageId}\"`)\n      }}\n      description='Navigates to the previous page on click and logs the pageHistory on the console.'\n    >\n      Manual \"Back\" navigation\n    </Drilldown.Option>\n  </Drilldown.Page>\n</Drilldown>\n```\n\n### Editable structures\n\nThe following example showcases an editable drilldown that can add or delete options.\n\n```js\n---\ntype: example\n---\n  const EditableStructureExample = () => {\n    const [districtsData, setDistrictsData] = useState({\n      d1: {\n        label: 'District 1',\n        schools: ['s1']\n      }\n    })\n    const [schoolsData, setSchoolsData] = useState({\n      s1: {\n        label: 'School 1',\n        districtId: 'd1',\n        isSelected: false\n      }\n    })\n\n    const [districtCounter, setDistrictCounter] = useState(\n      Object.keys(districtsData).length\n    )\n    const [schoolCounter, setSchoolCounter] = useState(\n      Object.keys(schoolsData).length\n    )\n\n    const districts = Object.entries(districtsData)\n    const schools = Object.entries(schoolsData)\n\n    const toggleSelectedSchool = (id, school) => {\n      setSchoolsData({\n        ...schoolsData,\n        [id]: { ...school, isSelected: !school.isSelected }\n      })\n    }\n\n    const renderSelectedIcon = (isSelected) => {\n      return <IconCheckSolid style={{ opacity: isSelected ? 1 : 0 }} />\n    }\n\n    const renderAddAction = (label) => {\n      return (\n        <span>\n          <IconAddSolid />\n          <View as=\"span\" margin=\"0 0 0 x-small\">\n            New {label}\n          </View>\n        </span>\n      )\n    }\n\n    const addDistrict = () => {\n      const newDistrictCounter = districtCounter + 1\n      const districtNumber = newDistrictCounter\n      const districtId = `d${newDistrictCounter}`\n      setDistrictCounter(newDistrictCounter)\n\n      setDistrictsData((districtsData) => ({\n        ...districtsData,\n        [districtId]: {\n          label: `District ${districtNumber}`,\n          schools: []\n        }\n      }))\n    }\n\n    const addSchool = (districtId) => {\n      const newSchoolCounter = schoolCounter + 1\n      const district = districtsData[districtId]\n      const schoolNumber = newSchoolCounter\n      const schoolId = `s${newSchoolCounter}`\n      setSchoolCounter(newSchoolCounter)\n\n      setDistrictsData((districtsData) => ({\n        ...districtsData,\n        [districtId]: {\n          ...districtsData[districtId],\n          schools: [...district.schools, schoolId]\n        }\n      }))\n\n      setSchoolsData((schoolsData) => ({\n        ...schoolsData,\n        [schoolId]: {\n          label: `School ${schoolNumber}`,\n          districtId,\n          isSelected: false\n        }\n      }))\n    }\n\n    const renderDeleteOption = (type, label, idToDelete) => {\n      const id = type === 'school' ? 'deleteSchool' : 'deleteDistrict'\n      const callback = type === 'school' ? deleteSchool : deleteDistrict\n      const separatorId = `${idToDelete}__separator`\n\n      return [\n        <Drilldown.Separator id={separatorId} key={separatorId} />,\n        <Drilldown.Option\n          id={id}\n          key={`${idToDelete}__${id}`}\n          onOptionClick={() => {\n            callback(idToDelete)\n          }}\n          themeOverride={(_componentTheme, currentTheme) => {\n            return { color: currentTheme.colors.textDanger }\n          }}\n        >\n          <IconTrashLine />\n          <View as=\"span\" margin=\"0 0 0 x-small\">\n            Delete {label}\n          </View>\n        </Drilldown.Option>\n      ]\n    }\n\n    const deleteSchool = (id) => {\n      const { [id]: school, ...restSchools } = schoolsData\n      const { districtId } = school\n      const district = districtsData[districtId]\n\n      setSchoolsData(restSchools)\n      setDistrictsData({\n        ...districtsData,\n        [districtId]: {\n          ...district,\n          schools: district.schools.filter((schoolId) => schoolId !== id)\n        }\n      })\n    }\n\n    const deleteDistrict = (id) => {\n      const { [id]: district, ...restDistricts } = districtsData\n\n      const filteredSchools = {}\n\n      Object.entries(schoolsData).forEach(([schoolId, school]) => {\n        if (school.districtId !== id) {\n          filteredSchools[schoolId] = school\n        }\n      })\n\n      setDistrictsData(restDistricts)\n      setSchoolsData(filteredSchools)\n    }\n\n    return (\n      <Drilldown rootPageId=\"root\" width=\"18.5rem\" maxHeight=\"26.5rem\">\n        <Drilldown.Page\n          id=\"root\"\n          renderTitle=\"Districts\"\n          renderActionLabel={renderAddAction('District')}\n          onHeaderActionClicked={() => {\n            addDistrict()\n          }}\n        >\n          {districts.map(([id, district]) => {\n            const { label } = district\n            return (\n              <Drilldown.Option\n                key={`districtOption__${id}`}\n                id={id}\n                subPageId={id}\n              >\n                {label}\n              </Drilldown.Option>\n            )\n          })}\n        </Drilldown.Page>\n\n        {districts.map(([districtId, district]) => {\n          const { label, schools } = district\n          return (\n            <Drilldown.Page\n              key={`districtPage__${districtId}`}\n              id={districtId}\n              renderTitle={label}\n              renderActionLabel={renderAddAction('School')}\n              onHeaderActionClicked={() => {\n                addSchool(districtId)\n              }}\n            >\n              {schools.map((id) => {\n                const { label, isSelected } = schoolsData[id]\n                return (\n                  <Drilldown.Option\n                    key={`schoolOption__${districtId}--${id}`}\n                    id={id}\n                    subPageId={id}\n                    renderBeforeLabel={renderSelectedIcon(isSelected)}\n                  >\n                    {label}\n                  </Drilldown.Option>\n                )\n              })}\n              {renderDeleteOption('district', label, districtId)}\n            </Drilldown.Page>\n          )\n        })}\n\n        {schools.map(([id, school]) => {\n          const { label, isSelected } = school\n          return (\n            <Drilldown.Page\n              key={`schoolPage__${id}`}\n              id={id}\n              withoutHeaderSeparator\n            >\n              <Drilldown.Option\n                id=\"toggleSchool\"\n                renderBeforeLabel={renderSelectedIcon(isSelected)}\n                onOptionClick={() => {\n                  toggleSelectedSchool(id, school)\n                }}\n              >\n                {isSelected ? 'Deselect' : 'Select'} {label}\n              </Drilldown.Option>\n              {renderDeleteOption('school', label, id)}\n            </Drilldown.Page>\n          )\n        })}\n      </Drilldown>\n    )\n  }\n\n  render(<EditableStructureExample />)\n```\n\n### Guidelines\n\n```js\n---\ntype: embed\n---\n<Guidelines>\n  <Figure recommendation=\"yes\" title=\"Do\">\n    <Figure.Item>\n      Use to display tree structures (instead of the TreeBrowser)\n    </Figure.Item>\n    <Figure.Item>\n      Use instead of flyout menus\n    </Figure.Item>\n    <Figure.Item>\n      Use for radio or checkbox type interactions\n    </Figure.Item>\n    <Figure.Item>\n      Make the text within Drilldown options direct and self-evident so users can quickly decide on an action\n    </Figure.Item>\n  </Figure>\n  <Figure recommendation=\"no\" title=\"Don't\">\n    <Figure.Item>\n      Include complex content\n    </Figure.Item>\n    <Figure.Item>\n      Use content that is not a Drilldown.Option (eg. buttons)\n    </Figure.Item>\n    <Figure.Item>\n      Use the “back” option to display group names\n    </Figure.Item>\n  </Figure>\n</Guidelines>\n```\n","describes":"Drilldown","relativePath":"packages/ui-drilldown/src/Drilldown/README.md","extension":".md","srcPath":"packages/ui-drilldown/src/Drilldown/README.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-drilldown/src/Drilldown/README.md","packageName":"@instructure/ui-drilldown","requirePath":"@instructure/ui-drilldown/lib/Drilldown/README","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/packages/ui-drilldown/src/Drilldown/README.md').default","esPath":"@instructure/ui-drilldown/es/Drilldown/README","themePath":"packages/ui-drilldown/src/Drilldown/README.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-drilldown/src/Drilldown/README.md","id":"Drilldown__README","title":"Drilldown__README"}