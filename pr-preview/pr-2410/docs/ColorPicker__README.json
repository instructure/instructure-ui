{"description":"\nThe `ColorPicker` is a versatile component that can be used to select colors and check their contrast ratios. It has 2 modes of operation:\n\n- In the simple, color input mode, it lets the user enter hex codes. It will display the color, validate the hex and check the contrast.\n- In the more complex, color picker mode, the same functionality is available as for the simpler mode, but there is the option to pick a color from a visual color mixer component or from any other method added in a popover.\n\nThe component can be either `uncontrolled` or `controlled`. If the `onChange` and `value` props are used, it will behave in a `controlled` manner, otherwise `uncontrolled`.\n\n### ColorPicker with default popover content\n\n```js\n---\ntype: example\n---\n<ColorPicker\n  label=\"Color Input\"\n  tooltip=\"This is an example\"\n  placeholderText=\"Enter HEX\"\n  popoverButtonScreenReaderLabel=\"Open color mixer popover\"\n  withAlpha\n  colorMixerSettings={{\n    popoverAddButtonLabel: \"Add\",\n    popoverCloseButtonLabel: \"Cancel\",\n    colorMixer: {\n      withAlpha: false,\n      rgbRedInputScreenReaderLabel:'Input field for red',\n      rgbGreenInputScreenReaderLabel:'Input field for green',\n      rgbBlueInputScreenReaderLabel:'Input field for blue',\n      rgbAlphaInputScreenReaderLabel:'Input field for alpha',\n      colorSliderNavigationExplanationScreenReaderLabel:`You are on a color slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`,\n      alphaSliderNavigationExplanationScreenReaderLabel:`You are on an alpha slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`,\n      colorPaletteNavigationExplanationScreenReaderLabel:`You are on a color palette. To navigate on the palette up, left, down or right, use the 'W', 'A', 'S' and 'D' buttons respectively`\n    },\n    colorPreset: {\n      label: \"Choose a nice color\",\n      colors: [\n        \"#ffffff\",\n        \"#0CBF94\",\n        \"#0C89BF00\",\n        \"#BF0C6D\",\n        \"#BF8D0C\",\n        \"#ff0000\",\n        \"#576A66\",\n        \"#35423A\",\n        \"#35423F\",\n      ],\n    },\n    colorContrast: {\n      firstColor: \"#FFFF00\",\n      label: \"Color Contrast Ratio\",\n      successLabel: \"PASS\",\n      failureLabel: \"FAIL\",\n      normalTextLabel: \"Normal text\",\n      largeTextLabel: \"Large text\",\n      graphicsTextLabel: \"Graphics text\",\n      firstColorLabel: \"Background\",\n      secondColorLabel: \"Foreground\",\n    },\n  }}\n/>\n```\n\n### ColorPicker with custom popover content\n\n```js\n---\ntype: example\n---\n  const Example = () => {\n    const [value, setValue] = useState('')\n\n    const renderPopoverContent = (value, onChange, handleAdd, handleClose) => (\n      <div>\n        <div style={{ padding: '20px' }}>\n          <ColorMixer\n            withAlpha\n            value={value}\n            onChange={onChange}\n            rgbRedInputScreenReaderLabel=\"Input field for red\"\n            rgbGreenInputScreenReaderLabel=\"Input field for green\"\n            rgbBlueInputScreenReaderLabel=\"Input field for blue\"\n            rgbAlphaInputScreenReaderLabel=\"Input field for alpha\"\n            colorSliderNavigationExplanationScreenReaderLabel={`You are on a color slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`}\n            alphaSliderNavigationExplanationScreenReaderLabel={`You are on an alpha slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`}\n            colorPaletteNavigationExplanationScreenReaderLabel={`You are on a color palette. To navigate on the palette up, left, down or right, use the 'W', 'A', 'S' and 'D' buttons respectively`}\n          />\n          <div\n            style={{\n              borderTop: 'solid',\n              borderWidth: '1px',\n              borderColor: '#C7CDD1',\n              margin: '20px 0 20px 0'\n            }}\n          />\n          <ColorPreset\n            label=\"Choose a color\"\n            colors={[\n              '#ffffff',\n              '#0CBF94',\n              '#0C89BF00',\n              '#BF0C6D',\n              '#BF8D0C',\n              '#ff0000',\n              '#576A66',\n              '#35423A',\n              '#35423F'\n            ]}\n            selected={value}\n            onSelect={onChange}\n          />\n          <div\n            style={{\n              borderTop: 'solid',\n              borderWidth: '1px',\n              borderColor: '#C7CDD1',\n              margin: '20px 0 20px 0'\n            }}\n          />\n          <ColorContrast\n            firstColor=\"#FFFFFF\"\n            secondColor={value}\n            label=\"Color Contrast Ratio\"\n            successLabel=\"PASS\"\n            failureLabel=\"FAIL\"\n            normalTextLabel=\"Normal text\"\n            largeTextLabel=\"Large text\"\n            graphicsTextLabel=\"Graphics text\"\n            firstColorLabel=\"Background\"\n            secondColorLabel=\"Foreground\"\n          />\n        </div>\n        <div\n          style={{\n            backgroundColor: '#F5F5F5',\n            display: 'flex',\n            flexDirection: 'row-reverse',\n            padding: '7px',\n            borderTop: 'solid 1px #C7CDD1'\n          }}\n        >\n          <Button onClick={handleAdd} color=\"primary\" margin=\"xx-small\">\n            Add\n          </Button>\n          <Button onClick={handleClose} color=\"secondary\" margin=\"xx-small\">\n            Close\n          </Button>\n        </div>\n      </div>\n    )\n\n    return (\n      <div>\n        <ColorPicker\n          value={value}\n          onChange={(val) => {\n            setValue(val)\n          }}\n          label=\"Color Input\"\n          tooltip=\"This is an example\"\n          placeholderText=\"Enter HEX\"\n          popoverButtonScreenReaderLabel=\"Open color mixer popover\"\n        >\n          {renderPopoverContent}\n        </ColorPicker>\n      </div>\n    )\n  }\n\n  render(<Example />)\n```\n\n### Complex Color input example\n\n```js\n---\ntype: example\n---\n  const Example = () => {\n    const [value, setValue] = useState('')\n    const [withCheckContrast, setWithCheckContrast] = useState(undefined)\n    const [contrastStrength, setContrastStrength] = useState('mid')\n    const [isStrict, setIsStrict] = useState(false)\n    const [disabled, setDisabled] = useState(false)\n    const [isRequired, setIsRequired] = useState(false)\n    const [withAlpha, setWithAlpha] = useState(false)\n    const [contrastAgainst, setContrastAgainst] = useState('#ffffff')\n    const [colors, setColors] = useState([\n      '#ffffff',\n      '#0CBF94',\n      '#0C89BF00',\n      '#BF0C6D',\n      '#BF8D0C',\n      '#ff0000',\n      '#576A66',\n      '#35423A',\n      '#35423F'\n    ])\n\n    return (\n      <View as=\"div\">\n        <ColorPicker\n          onChange={(val) => setValue(val)}\n          value={value}\n          placeholderText=\"Enter HEX\"\n          label=\"Color Input\"\n          tooltip=\"This is an example\"\n          disabled={disabled}\n          isRequired={isRequired}\n          withAlpha={withAlpha}\n          popoverButtonScreenReaderLabel=\"Open color mixer popover\"\n          checkContrast={\n            withCheckContrast && {\n              isStrict,\n              contrastStrength,\n              contrastAgainst,\n              renderContrastErrorMessage: (contrast, minContrast) => [\n                {\n                  type: 'error',\n                  text: `Not high enough contrast. Minimum required is ${minContrast}:1, current is ${contrast}:1`\n                }\n              ]\n            }\n          }\n          renderInvalidColorMessage={(hexCode) => [\n            {\n              type: 'error',\n              text: `Not valid hex color. It should be either 3, 6 or 8 character long.`\n            }\n          ]}\n          renderIsRequiredMessage={() => [\n            {\n              type: 'error',\n              text: `This field is required, please enter a valid hex code`\n            }\n          ]}\n        />\n        <hr />\n        <FormFieldGroup description=\"Settings\">\n          <Checkbox\n            label=\"isRequired\"\n            value=\"small\"\n            variant=\"toggle\"\n            size=\"small\"\n            inline\n            checked={isRequired}\n            onChange={() => setIsRequired(!isRequired)}\n          />\n          <Checkbox\n            label=\"withAlpha\"\n            value=\"small\"\n            variant=\"toggle\"\n            size=\"small\"\n            inline\n            checked={withAlpha}\n            onChange={() => {\n              setWithAlpha(!withAlpha)\n              setValue(value.slice(0, 6))\n            }}\n          />\n\n          <Checkbox\n            label=\"Disabled\"\n            value=\"small\"\n            variant=\"toggle\"\n            size=\"small\"\n            inline\n            checked={disabled}\n            onChange={() => setDisabled(!disabled)}\n          />\n\n          <Checkbox\n            label=\"With contrast checking (checkContrast)\"\n            value=\"small\"\n            variant=\"toggle\"\n            size=\"small\"\n            inline\n            checked={withCheckContrast}\n            onChange={() => setWithCheckContrast(!withCheckContrast)}\n          />\n\n          {withCheckContrast && (\n            <FormFieldGroup description=\"Check contrast options\">\n              <Checkbox\n                label=\"isStrict\"\n                value=\"small\"\n                variant=\"toggle\"\n                size=\"small\"\n                checked={isStrict}\n                onChange={() => setIsStrict(!isStrict)}\n              />\n              <RadioInputGroup\n                name=\"contrastStrength\"\n                description=\"contrastStrength\"\n                layout=\"columns\"\n                value={contrastStrength}\n                onChange={(_, strength) => setContrastStrength(strength)}\n              >\n                <RadioInput label=\"min (3:1)\" value=\"min\" />\n                <RadioInput label=\"mid (4.5:1)\" value=\"mid\" />\n                <RadioInput label=\"max (7:1)\" value=\"max\" />\n              </RadioInputGroup>\n\n              <ColorPreset\n                label=\"contrastAgainst\"\n                colors={colors}\n                selected={contrastAgainst}\n                onSelect={(val) => setContrastAgainst(val)}\n              />\n            </FormFieldGroup>\n          )}\n        </FormFieldGroup>\n      </View>\n    )\n  }\n\n  render(<Example />)\n```\n\n### Uncontrolled Color Input\n\n```js\n---\ntype: example\n---\n<div>\n  <ColorPicker\n    label=\"Color\"\n    checkContrast={{\n      isStrict: false,\n      renderContrastSuccessMessage: () => [\n        { type: \"success\", text: \"I am a contrast success message\" },\n      ],\n      renderContrastErrorMessage: () => [\n        { type: \"error\", text: \"I am a contrast warning message\" },\n      ],\n    }}\n    renderMessages={() => [\n      { type: \"hint\", text: \"I can display anything, at any time\" },\n    ]}\n    renderInvalidColorMessage={() => [\n      { type: \"error\", text: \"I am an invalid color message\" },\n    ]}\n    renderIsRequiredMessage={() => [\n      { type: \"error\", text: \"I am a required message\" },\n    ]}\n    placeholderText=\"Enter HEX\"\n  />\n</div>\n\n```\n\n### Scrollable Popover Content\n\nWhen the ColorPicker popover contains tall content (e.g., ColorMixer + ColorPreset + ColorContrast), the component automatically calculates the available viewport space and makes the popover scrollable.\n\nThe `popoverMaxHeight` prop can be used to set a custom maximum height for the popover content. By default, it's set to `'100vh'`, but the component dynamically adjusts this based on the available space to ensure the popover fits within the viewport and remains scrollable.\n\n```js\n---\ntype: example\n---\n<ColorPicker\n  label=\"Color\"\n  placeholderText=\"Enter HEX\"\n  popoverButtonScreenReaderLabel=\"Open color mixer popover\"\n  popoverMaxHeight=\"500px\"\n  colorMixerSettings={{\n    popoverAddButtonLabel: \"Add\",\n    popoverCloseButtonLabel: \"Cancel\",\n    colorMixer: {\n      withAlpha: true,\n      rgbRedInputScreenReaderLabel:'Input field for red',\n      rgbGreenInputScreenReaderLabel:'Input field for green',\n      rgbBlueInputScreenReaderLabel:'Input field for blue',\n      rgbAlphaInputScreenReaderLabel:'Input field for alpha',\n      colorSliderNavigationExplanationScreenReaderLabel:`You are on a color slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`,\n      alphaSliderNavigationExplanationScreenReaderLabel:`You are on an alpha slider. To navigate the slider left or right, use the 'A' and 'D' buttons respectively`,\n      colorPaletteNavigationExplanationScreenReaderLabel:`You are on a color palette. To navigate on the palette up, left, down or right, use the 'W', 'A', 'S' and 'D' buttons respectively`\n    },\n    colorPreset: {\n      label: \"Preset Colors\",\n      colors: [\n        \"#FF0000\",\n        \"#00FF00\",\n        \"#0000FF\",\n        \"#FFFF00\",\n        \"#FF00FF\",\n        \"#00FFFF\",\n        \"#000000\",\n        \"#FFFFFF\",\n        \"#808080\"\n      ]\n    },\n    colorContrast: {\n      firstColor: \"#FFFFFF\",\n      label: \"Color Contrast Ratio\",\n      successLabel: \"PASS\",\n      failureLabel: \"FAIL\",\n      normalTextLabel: \"Normal text\",\n      largeTextLabel: \"Large text\",\n      graphicsTextLabel: \"Graphics text\",\n      firstColorLabel: \"Background\",\n      secondColorLabel: \"Foreground\"\n    }\n  }}\n/>\n```\n","describes":"ColorPicker","relativePath":"packages/ui-color-picker/src/ColorPicker/README.md","extension":".md","srcPath":"packages/ui-color-picker/src/ColorPicker/README.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-color-picker/src/ColorPicker/README.md","packageName":"@instructure/ui-color-picker","requirePath":"@instructure/ui-color-picker/lib/ColorPicker/README","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/packages/ui-color-picker/src/ColorPicker/README.md').default","esPath":"@instructure/ui-color-picker/es/ColorPicker/README","themePath":"packages/ui-color-picker/src/ColorPicker/README.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-color-picker/src/ColorPicker/README.md","id":"ColorPicker__README","title":"ColorPicker__README"}