{"description":"\n> _Note:_ we recommend to update to the new [`DateInput2`](/#DateInput2) which is easier to configure for developers, has a better UX, better accessibility features and a year picker. `DateInput` will be deprecated in the future.\n\nThe `DateInput` component provides a visual interface for inputting date data.\n\n### Composing a DateInput in your Application\n\n`DateInput` uses `Calendar` internally. See [Calendar](Calendar) for more detailed\ndocumentation and guided examples. `DateInput` shares many of the same `Calendar`\nprops and it is created the same way with some additional attributes and callback\nmethods for the input. The following example is configured similar to the `Calendar`\nexamples using [Moment.js](https://momentjs.com/docs/#/parsing/).\n\n```javascript\n---\ntype: example\n---\n\nclass Example extends React.Component {\n  state = {\n    value: '',\n    isShowingCalendar: false,\n    todayDate: parseDate('2019-08-28').toISOString(),\n    selectedDate: null,\n    renderedDate: parseDate('2019-08-01').toISOString(),\n    disabledDates: [\n      parseDate('2019-08-14').toISOString(),\n      parseDate('2019-08-19').toISOString(),\n      parseDate('2019-08-29').toISOString()\n    ],\n    messages: []\n  }\n\n  generateMonth = (renderedDate = this.state.renderedDate) => {\n    const date = parseDate(renderedDate)\n      .startOf('month')\n      .startOf('week')\n\n    return Array.apply(null, Array(Calendar.DAY_COUNT)).map(() => {\n      const currentDate = date.clone()\n      date.add({days: 1})\n\n      // This workaround is needed because moment's `.add({days: 1})` function has a bug that happens when the date added lands perfectly onto the DST cutoff,\n      // in these cases adding 1 day results in 23 hours added instead,\n      // so `moment.tz('2024-09-07T00:00:00', 'America/Santiago').add({days: 1})` results\n      // in \"Sat Sep 07 2024 23:00:00 GMT-0400\" instead of \"Sun Sep 08 2024 00:00:00 GMT-0400\".\n      // which would cause duplicate dates in the calendar.\n      // More info on the bug: https://github.com/moment/moment/issues/4743\n      // Please note that this causes one hour of time difference in the affected timezones/dates and to\n      // fully solve this bug we need to change to something like luxon which handles this properly\n      if (currentDate.clone().format('HH') === '23') {\n        return currentDate.clone().add({hours: 1})\n      }\n\n      return currentDate.clone()\n    })\n  }\n\n  formatDate = (dateInput) => {\n    const date = parseDate(dateInput)\n    return `${date.format('MMMM')} ${date.format('D')}, ${date.format('YYYY')}`\n  }\n\n  handleChange = (event, { value }) => {\n    const newDateStr = parseDate(value).toISOString()\n\n    this.setState(({ renderedDate }) => ({\n      value,\n      selectedDate: newDateStr,\n      renderedDate: newDateStr || renderedDate,\n      messages: []\n    }))\n  }\n\n  handleShowCalendar = (event) => {\n    this.setState({ isShowingCalendar: true })\n  }\n\n  handleHideCalendar = (event) => {\n    this.setState(({ selectedDate, disabledDates, value }) => ({\n      isShowingCalendar: false,\n      value: selectedDate ? this.formatDate(selectedDate) : value\n    }))\n  }\n\n  handleValidateDate = (event) => {\n    this.setState(({ selectedDate, value }) => {\n      // We don't have a selectedDate but we have a value. That means that the value\n      // could not be parsed and so the date is invalid\n      if (!selectedDate && value) {\n        return {\n          messages: [{ type: 'error', text: 'This date is invalid' }],\n        }\n      }\n      // Display a message if the user has typed in a value that corresponds to a\n      // disabledDate\n      if (this.isDisabledDate(parseDate(selectedDate))) {\n        return {\n          messages: [{ type: 'error', text: 'This date is disabled' }],\n        }\n      }\n    })\n  }\n\n  handleDayClick = (event, { date }) => {\n    this.setState({\n      selectedDate: date,\n      renderedDate: date,\n      messages: []\n    })\n  }\n\n  handleSelectNextDay = (event) => {\n    this.modifySelectedDate('day', 1)\n  }\n\n  handleSelectPrevDay = (event) => {\n    this.modifySelectedDate('day', -1)\n  }\n\n  handleRenderNextMonth = (event) => {\n    this.modifyRenderedDate('month', 1)\n  }\n\n  handleRenderPrevMonth = (event) => {\n    this.modifyRenderedDate('month', -1)\n  }\n\n  modifyRenderedDate = (type, step) => {\n    this.setState(({ renderedDate }) => {\n      return { renderedDate: this.modifyDate(renderedDate, type, step) }\n    })\n  }\n\n  modifySelectedDate = (type, step) => {\n    this.setState(({ selectedDate, renderedDate }) => {\n      // We are either going to increase or decrease our selectedDate by 1 day.\n      // If we do not have a selectedDate yet, we'll just select the first day of\n      // the currently rendered month instead.\n      const newDate = selectedDate\n        ? this.modifyDate(selectedDate, type, step)\n        : parseDate(renderedDate).startOf('month').toISOString()\n\n      return {\n        selectedDate: newDate,\n        renderedDate: newDate,\n        value: this.formatDate(newDate),\n        messages: []\n      }\n    })\n  }\n\n  modifyDate = (dateStr, type, step) => {\n    const date = parseDate(dateStr)\n    date.add(step, type)\n    return date.toISOString()\n  }\n\n  isDisabledDate = (date, disabledDates = this.state.disabledDates) => {\n    return disabledDates.reduce((result, disabledDate) => {\n      return result || date.isSame(disabledDate, 'day')\n    }, false)\n  }\n\n  renderWeekdayLabels = () => {\n    const date = parseDate(this.state.renderedDate).startOf('week')\n\n    return Array.apply(null, Array(7)).map(() => {\n      const currentDate = date.clone()\n      date.add(1, 'day')\n\n      return (\n        <AccessibleContent alt={currentDate.format('dddd')}>\n          {currentDate.format('dd')}\n        </AccessibleContent>\n      )\n    })\n  }\n\n  renderDays () {\n    const {\n      renderedDate,\n      selectedDate,\n      todayDate,\n    } = this.state\n\n    return this.generateMonth().map((date) => {\n      const dateStr = date.toISOString()\n\n      return (\n        <DateInput.Day\n          key={dateStr}\n          date={dateStr}\n          interaction={this.isDisabledDate(date) ? 'disabled' : 'enabled'}\n          isSelected={date.isSame(selectedDate, 'day')}\n          isToday={date.isSame(todayDate, 'day')}\n          isOutsideMonth={!date.isSame(renderedDate, 'month')}\n          label={`${date.format('D')} ${date.format('MMMM')} ${date.format('YYYY')}`}\n          onClick={this.handleDayClick}\n        >\n          {date.format('D')}\n        </DateInput.Day>\n      )\n    })\n  }\n\n  render () {\n    const {\n      value,\n      isShowingCalendar,\n      renderedDate,\n      messages\n    } = this.state\n\n    const date = parseDate(this.state.renderedDate)\n\n    const buttonProps = (type = 'prev') => ({\n      size: 'small',\n      withBackground: false,\n      withBorder: false,\n      renderIcon: type === 'prev'\n        ? <ChevronLeftInstUIIcon color=\"baseColor\" />\n        : <ChevronRightInstUIIcon color=\"baseColor\" />,\n      screenReaderLabel: type === 'prev' ? 'Previous month' : 'Next month'\n    })\n\n    return (\n      <DateInput\n        renderLabel=\"Choose a date\"\n        assistiveText=\"Type a date or use arrow keys to navigate date picker.\"\n        value={value}\n        onChange={this.handleChange}\n        width=\"20rem\"\n        isInline\n        messages={messages}\n        isShowingCalendar = {this.state.isShowingCalendar}\n        onRequestValidateDate={this.handleValidateDate}\n        onRequestShowCalendar={this.handleShowCalendar}\n        onRequestHideCalendar={this.handleHideCalendar}\n        onRequestSelectNextDay={this.handleSelectNextDay}\n        onRequestSelectPrevDay={this.handleSelectPrevDay}\n        onRequestRenderNextMonth={this.handleRenderNextMonth}\n        onRequestRenderPrevMonth={this.handleRenderPrevMonth}\n        renderNavigationLabel={\n          <span>\n            <div>{date.format('MMMM')}</div>\n            <div>{date.format('YYYY')}</div>\n          </span>\n        }\n        renderPrevMonthButton={<IconButton {...buttonProps('prev')} />}\n        renderNextMonthButton={<IconButton {...buttonProps('next')} />}\n        renderWeekdayLabels={this.renderWeekdayLabels()}\n      >\n        {this.renderDays()}\n      </DateInput>\n    )\n  }\n}\n\nconst locale = 'en-us'\nconst timezone = 'America/Denver'\n\nconst parseDate = (dateStr) => {\n  return moment.tz(dateStr, [moment.ISO_8601, 'llll', 'LLLL', 'lll', 'LLL', 'll', 'LL', 'l', 'L'], locale, timezone)\n}\n\nrender(<Example />)\n```\n\n#### Some dates to keep track of\n\n- `todayDate` - the date that represents today\n- `selectedDate` - the user's selected date\n- `renderedDate` - the date that the user is viewing as they navigate the `Calendar`\n- `disabledDates` - any dates that are disabled\n\n#### Rendering `DateInput.Day` children\n\n`DateInput` accepts children of type `DateInput.Day`. Both `DateInput.Day` and\n`Calendar.Day` are exporting the same `Day` component. The documentation for\n`Day` can be found in [Calendar](Calendar).\n\n#### Handling onChange\n\nWhen the `DateInput` fires an `onChange` event:\n\n- The value should be updated and any messages should be cleared\n- Verify if the value can be parsed as a date\n- If it can be parsed, update the `selectedDate` and `renderedDate` with that date\n- If it cannot be parsed, the `selectedDate` is set to null and the `renderedDate`\n  stays the same\n\n#### Handling onRequestHideCalendar\n\nWhen the `DateInput` fires `onRequestHideCalendar`:\n\n- The calendar should be hidden\n- The value should be updated with a formatted version of the `selectedDate` if\n  it exists. See \"Formatting user input\" below\n\n#### Formatting user input\n\nDate formats can vary widely (ex. '8-9-19' vs '8/9/19'). When the `Calendar` is\nhidden, the input value should be converted to a consistent, standardized format.\nThe formatted result of the raw input '8/9/19'\ncould be \"August 9, 2019\".\n\n#### Handling onRequestValidateDate\n\nWhen the `DateInput` fires `onRequestValidateDate`, the provided user input\nshould be validated. If the value cannot be parsed as a valid date, or if the\n`selectedDate` is disabled, the user should be notified via the `messages` prop.\n","describes":"DateInput","relativePath":"packages/ui-date-input/src/DateInput/README.md","extension":".md","srcPath":"packages/ui-date-input/src/DateInput/README.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-date-input/src/DateInput/README.md","packageName":"@instructure/ui-date-input","requirePath":"@instructure/ui-date-input/lib/DateInput/README","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/packages/ui-date-input/src/DateInput/README.md').default","esPath":"@instructure/ui-date-input/es/DateInput/README","themePath":"packages/ui-date-input/src/DateInput/README.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-date-input/src/DateInput/README.md","id":"DateInput__README","title":"DateInput__README"}