{"description":"\n# Upgrade Guide for Version 11\n\n## InstUI and React\n\n> React 16 support was dropped with InstUI 11. Please upgrade to **React 18 or later** before upgrading to InstUI v11!\n\n### React 19\n\nInstUI v11 added support for React 19. But upgrading to React 19 might cause issues because InstUI needs to access the native DOM in some cases and React introduced a breaking change here by [removing `ReactDOM.findDOMNode()`](<https://www.google.com/search?q=%5Bhttps://react.dev/blog/2024/04/25/react-19-upgrade-guide%23removed-reactdom-finddomnode%5D(https://react.dev/blog/2024/04/25/react-19-upgrade-guide%23removed-reactdom-finddomnode)>). If you are upgrading to React 19, you will need to add `ref`s to some of your custom components that use InstUI utilities, see [this guide](https://www.google.com/search?q=/%23accessing-the-dom). We suggest to check your code thoroughly for errors, especially places where you use your own components as some kind of popovers or its triggers (e.g. Menu, Popover, Tooltip, Drilldown,..).\n\nIf you are using React 18 you might just see error messages like (`Error: ${elName} doesn't have \"ref\" property.`), but your code should work the same as with InstUI v10.\n\n---\n\n## PropTypes Support Dropped\n\nWith React 19, support for **PropTypes was dropped** from the core library. While it's still possible to use them with third-party libraries, InstUI has decided to no longer support them based on user feedback.\n\n**Tip:** To see how the removal of `propTypes` might affect your application's business logic, you can use a Babel plugin like **`babel-plugin-transform-react-remove-prop-types`** to strip them out during your build process for testing.\n\n---\n\n## Changes to Testability\n\nThe **`@testable` decorator has been removed**. The `data-cid` props, which were previously added by this decorator in development builds, are now **always added to components**. This change was made in response to frequent requests for a consistent way to identify InstUI components for end-to-end (e2e) tests.\n\nAs a result of this change, the **`ALWAYS_APPEND_UI_TESTABLE_LOCATORS`** Node.js environment variable is no longer used.\n\n---\n\n## Removal of deprecated props/components/APIs\n\n### InstUISettingsProvider\n\n[InstUISettingsProvider](https://www.google.com/search?q=/%23InstUISettingsProvider)'s `as` prop was removed, it will always render as a `<span>` (note: it will only render anything to the DOM if you provide a value to the `dir` prop.). The provided codemod will remove this prop automatically (see below).\n\n### Theming engine changes\n\n| Removed                                            | What to use instead?                                                                                  |\n| :------------------------------------------------- | :---------------------------------------------------------------------------------------------------- |\n| `canvas.use()`, `canvasHighContrast.use()`         | Wrap all your application roots in `<InstUISettingsProvider>`                                         |\n| `canvasThemeLocal`, `canvasHighContrastThemeLocal` | Use `canvas` and `canvasHighContrast` respectively, they are the same objects.                        |\n| `variables` field on theme objects                 | Use `canvas.borders` instead of `canvas.variables.borders` (same for all other fields)                |\n| `@instructure/theme-registry` package              | This added the removed functions above. Wrap all your application roots in `<InstUISettingsProvider>` |\n\n### Removal of the `deprecated`, `experimental`, `hack` decorators\n\nWe have removed these utilities from the `ui-react-utils` package because we are phasing out parts from the codebase that use decorators.\n\nIf you want to still use these we suggest to copy-paste their code from the latest v10 codebase (Note: they only work for class-based components\\!).\n\n---\n\n## Component Changes\n\n### CodeEditor\n\nThe **`<CodeEditor>` component** from the `ui-code-editor` package has been **removed** due to significant accessibility issues. Please use the **`<SourceCodeEditor>`** component as a replacement.\n\n### Table\n\n[Table](https://www.google.com/search?q=/%23Table) is now using [TableContext](https://www.google.com/search?q=%23TableContext) to pass down data to its child components, the following props are no longer passed down to their children (This should only affect you if you have custom table rows or cells):\n\n| Component | prop        | Substitute / Notes              |\n| :-------- | :---------- | :------------------------------ |\n| `Row`     | `isStacked` | is now stored in `TableContext` |\n| `Body`    | `isStacked` | is now stored in `TableContext` |\n| `Body`    | `hover`     | is now stored in `TableContext` |\n| `Body`    | `headers`   | is now stored in `TableContext` |\n\n### Tag\n\nThe **`maxWidth` theme variable has been removed** from the `Tag` component. As a result, **`<Tag>` can no longer be truncated**. This change was made because placing a tooltip on a non-interactive element is an accessibility anti-pattern. You will need to handle truncation and tooltips via a new design if this functionality is required.\n\n---\n\n## API Changes\n\n- `ui-dom-utils`/`getComputedStyle` can now return `undefined`: In previous versions it sometimes returned an empty object which could lead to runtime exceptions when one tried to call methods of `CSSStyleDeclaration` on it.\n\n---\n\n## Codemods\n\nTo ease the upgrade we provide codemods that will automate most of the changes. Pay close attention to its output, it cannot refactor complex code\\! The codemod scripts can be run via the following commands:\n\n```sh\n---\ntype: code\n---\nnpm install @instructure/ui-codemods@11\nnpx jscodeshift@17.3.0 -t node_modules/@instructure/ui-codemods/lib/instUIv11Codemods.ts <path> --usePrettier=false\n```\n\nOptions for the codemod:\n\n- `filename`: if specified then emitted warnings are written to this file.\n- `usePrettier`: if `true` the transformed code will be run through Prettier. You can customize this through a [Prettier\n  config file](https://prettier.io/docs/configuration.html)\n","title":"Upgrade Guide for Version 11","category":"Guides","order":7,"relativePath":"docs/contributor-docs/upgrade-guide.md","extension":".md","srcPath":"docs/contributor-docs/upgrade-guide.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/contributor-docs/upgrade-guide.md","packageName":"@instructure/docs","requirePath":"@instructure/docs/contributor-docs/upgrade-guide","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/docs/contributor-docs/upgrade-guide.md').default","esPath":"@instructure/docs/contributor-docs/upgrade-guide","themePath":"docs/contributor-docs/upgrade-guide.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/contributor-docs/upgrade-guide.md","id":"upgrade-guide"}