{"description":"\n> _Info_: `DateInput2` is an upgrade to the [`DateInput`](/#DateInput) component, offering easier configuration, better UX, improved accessibility, and a year picker. Please consider updating to this for WCAG compatiblity and an overall better experience (for both devs and users).\n\n### Minimal config\n\n```js\n---\ntype: example\n---\n  const Example = () => {\n    const [inputValue, setInputValue] = useState('')\n    const [dateString, setDateString] = useState('')\n    return (\n      <div>\n        <DateInput2\n          renderLabel=\"Choose a date\"\n          screenReaderLabels={{\n            calendarIcon: 'Calendar',\n            nextMonthButton: 'Next month',\n            prevMonthButton: 'Previous month',\n            datePickerDialog: 'Date picker'\n          }}\n          value={inputValue}\n          width=\"20rem\"\n          onChange={(e, inputValue, dateString) => {\n            setInputValue(inputValue)\n            setDateString(dateString)\n          }}\n          invalidDateErrorMessage=\"Invalid date\"\n        />\n        <p>\n          <Text>Input Value: </Text><code>{inputValue}</code>\n          <br />\n          <Text>UTC Date String: </Text><code>{dateString}</code>\n        </p>\n      </div>\n    )\n  }\n\n  render(<Example />)\n```\n\n### Parsing and formatting dates\n\nWhen typing in a date manually (instead of using the included picker), the component tries to parse the date as you type it in. By default parsing is based on the user's locale which determines the order of day, month and year (e.g.: a user with US locale will have MONTH/DAY/YEAR order, and someone with GB locale will have DAY/MONTH/YEAR order).\n\nAny of the following separators can be used when typing a date: `,`, `-`, `.`, `/` or a whitespace however on blur the date will be formatted according to the locale and separators will be changed and leading zeros also adjusted.\n\nIf you want different parsing and formatting then the current locale you can use the `dateFormat` prop which accepts either a string with a name of a different locale (so you can use US date format even if the user is France) or a parser and formatter functions.\n\nThe default parser also has a limitation of not working with years before `1000` and after `9999`. These values are invalid by default but not with custom parsers.\n\n```js\n---\ntype: example\n---\nconst Example = () => {\n  const [value, setValue] = useState('')\n  const [value2, setValue2] = useState('')\n  const [value3, setValue3] = useState('')\n\n  return (\n    <div>\n      <Text as=\"p\">US locale with default format:</Text>\n      <DateInput2\n        renderLabel=\"Choose a date\"\n        screenReaderLabels={{\n          calendarIcon: 'Calendar',\n          nextMonthButton: 'Next month',\n          prevMonthButton: 'Previous month',\n          datePickerDialog: 'Date picker'\n        }}\n        width=\"20rem\"\n        value={value}\n        locale=\"en-us\"\n        onChange={(e, value) => setValue(value)}\n      />\n      <Text as=\"p\">US locale with german date format:</Text>\n      <DateInput2\n        renderLabel=\"Choose a date\"\n        screenReaderLabels={{\n          calendarIcon: 'Calendar',\n          nextMonthButton: 'Next month',\n          prevMonthButton: 'Previous month',\n          datePickerDialog: 'Date picker'\n        }}\n        width=\"20rem\"\n        value={value2}\n        locale=\"en-us\"\n        dateFormat=\"de-de\"\n        onChange={(e, value) => setValue2(value)}\n      />\n      <Text as=\"p\">US locale with ISO date format:</Text>\n      <DateInput2\n        renderLabel=\"Choose a date\"\n        screenReaderLabels={{\n          calendarIcon: 'Calendar',\n          nextMonthButton: 'Next month',\n          prevMonthButton: 'Previous month',\n          datePickerDialog: 'Date picker'\n        }}\n        width=\"20rem\"\n        value={value3}\n        locale=\"en-us\"\n        dateFormat={{\n          parser: (input) => {\n            // split input on '.', whitespace, '/', ',' or '-' using regex: /[.\\s/.-]+/\n            // the '+' allows splitting on consecutive delimiters\n            const [year, month, day] = input.split(/[,.\\s/.-]+/)\n            const newDate = new Date(year, month-1, day)\n            return isNaN(newDate) ? '' : newDate\n          },\n          formatter: (date) => {\n            // vanilla js formatter but you could use a date library instead\n            const year = date.getFullYear()\n            // month is zero indexed so add 1\n            const month = `${date.getMonth() + 1}`.padStart(2, '0')\n            const day = `${date.getDate()}`.padStart(2, '0')\n            return `${year}-${month}-${day}`\n          }\n        }}\n        onChange={(e, value) => setValue3(value)}\n      />\n    </div>\n  )\n}\n\nrender(<Example />)\n```\n\n### Timezones\n\nIn the examples above you can see that the `onChange` callback also return a UTC date string. This means it is timezone adjusted. If the timezone is not set via the `timezone` prop, it is calculated/assumed from the user's machine. So if a user chooses September 10th 2024 with the timezone 'Europe/Budapest', the `onChange` function will return `2024-09-09T22:00:00.000Z` because Budapest is two hours ahead of UTC (summertime).\n\n### With year picker\n\n```js\n---\ntype: example\n---\n  const Example = () => {\n    const [inputValue, setInputValue] = useState('')\n    const [dateString, setDateString] = useState('')\n    return (\n      <div>\n        <DateInput2\n          renderLabel=\"Choose a date\"\n          screenReaderLabels={{\n            calendarIcon: 'Calendar',\n            nextMonthButton: 'Next month',\n            prevMonthButton: 'Previous month',\n            datePickerDialog: 'Date picker'\n          }}\n          value={inputValue}\n          width=\"20rem\"\n          onChange={(e, inputValue, dateString) => {\n            setInputValue(inputValue)\n            setDateString(dateString)\n          }}\n          invalidDateErrorMessage=\"Invalid date\"\n          withYearPicker={{\n            screenReaderLabel: 'Year picker',\n            startYear: 1900,\n            endYear: 2024\n          }}\n        />\n        <p>\n          <Text>Input Value: </Text><code>{inputValue}</code>\n          <br />\n          <Text>UTC Date String: </Text><code>{dateString}</code>\n        </p>\n      </div>\n    )\n  }\n\n  render(<Example />)\n```\n\n### Date validation\n\nBy default `DateInput2` only does date validation if the `invalidDateErrorMessage` prop is provided. Validation is triggered on the blur event of the input field. Invalid dates are determined current locale.\n\nIf you want to do more complex validation (e.g. only allow a subset of dates) you can use the `onRequestValidateDate` and `messages` props.\n\n```js\n---\ntype: example\n---\nconst Example = () => {\n  const [value, setValue] = useState('')\n  const [dateString, setDateString] = useState('')\n  const [messages, setMessages] = useState([])\n\n  const handleDateValidation = (e, inputValue, utcIsoDate) => {\n    // utcIsoDate will be an empty string if the input cannot be parsed as a date\n\n    const date = new Date(utcIsoDate)\n\n    // don't validate empty input\n    if (!utcIsoDate && inputValue.length > 0) {\n      setMessages([{\n        type: 'error',\n        text: 'This is not a valid date'\n      }])\n    } else if (date < new Date('1990-01-01')) {\n      setMessages([{\n        type: 'error',\n        text: 'Select date after January 1, 1990'\n      }])\n    } else {\n      setMessages([])\n    }\n  }\n\n  return (\n    <DateInput2\n      renderLabel=\"Choose a date after January 1, 1990\"\n      screenReaderLabels={{\n        calendarIcon: 'Calendar',\n        nextMonthButton: 'Next month',\n        prevMonthButton: 'Previous month',\n        datePickerDialog: 'Date picker'\n      }}\n      width=\"20rem\"\n      value={value}\n      messages={messages}\n      onRequestValidateDate={handleDateValidation}\n      onChange={(e, value) => setValue(value)}\n      withYearPicker={{\n        screenReaderLabel: 'Year picker',\n        startYear: 1900,\n        endYear: 2024\n      }}\n    />\n  )\n}\n\nrender(<Example />)\n```\n\n### Date format hint\n\nIf the `placeholder` property is undefined it will display a hint for the date format (like `DD/MM/YYYY`). Usually it is recommended to leave it as it is for a better user experience.\n\n### Disabling dates\n\nYou can use the `disabledDates` prop to disable specific dates. It accepts either an array of ISO8601 date strings or a function. Keep in mind that this will only disable the dates in the calendar and does not prevent the user the enter them into the input field. To validate those values please use the `onRequestValidateDate` prop.\n\n```js\n---\ntype: example\n---\nconst Example = () => {\n  const [inputValue, setInputValue] = useState('2/5/2025')\n  const [dateString, setDateString] = useState('')\n  return (\n    <DateInput2\n      renderLabel=\"Choose a date\"\n      disabledDates={['2025-02-11', '2025-02-12', '2025-02-13']}\n      screenReaderLabels={{\n        calendarIcon: 'Calendar',\n        nextMonthButton: 'Next month',\n        prevMonthButton: 'Previous month',\n        datePickerDialog: 'Date picker'\n      }}\n      value={inputValue}\n      locale=\"en-us\"\n      width=\"20rem\"\n      onChange={(e, inputValue, dateString) => {\n        setInputValue(inputValue)\n        setDateString(dateString)\n      }}\n      invalidDateErrorMessage=\"Invalid date\"\n    />\n  )\n}\n\nrender(<Example />)\n```\n","displayName":"DateInput2","methods":[],"props":{"renderLabel":{"required":true,"tsType":{"name":"Renderable"},"description":"Specifies the input label."},"screenReaderLabels":{"required":true,"tsType":{"name":"signature","type":"object","raw":"{\n  calendarIcon: string\n  prevMonthButton: string\n  nextMonthButton: string\n  // TODO: Make this field required in the next version. Currently optional to avoid breaking change.\n  datePickerDialog?: string\n}","signature":{"properties":[{"key":"calendarIcon","value":{"name":"string","required":true}},{"key":"prevMonthButton","value":{"name":"string","required":true}},{"key":"nextMonthButton","value":{"name":"string","required":true}},{"key":"datePickerDialog","value":{"name":"string","required":false}}]}},"description":"Accessible labels for the calendar button, month navigation buttons, and date picker dialog."},"value":{"required":false,"tsType":{"name":"string"},"description":"Specifies the input value."},"placeholder":{"required":false,"tsType":{"name":"string"},"description":"Placeholder text for the input field. If it's left undefined it will display a hint for the date format (like `DD/MM/YYYY`)."},"onChange":{"required":false,"tsType":{"name":"signature","type":"function","raw":"(\n  event: React.SyntheticEvent,\n  inputValue: string,\n  utcDateString: string\n) => void","signature":{"arguments":[{"type":{"name":"ReactSyntheticEvent","raw":"React.SyntheticEvent"},"name":"event"},{"type":{"name":"string"},"name":"inputValue"},{"type":{"name":"string"},"name":"utcDateString"}],"return":{"name":"void"}}},"description":"Callback fired when the input changes."},"onBlur":{"required":false,"tsType":{"name":"signature","type":"function","raw":"(\n  event: React.SyntheticEvent,\n  value: string,\n  utcDateString: string\n) => void","signature":{"arguments":[{"type":{"name":"ReactSyntheticEvent","raw":"React.SyntheticEvent"},"name":"event"},{"type":{"name":"string"},"name":"value"},{"type":{"name":"string"},"name":"utcDateString"}],"return":{"name":"void"}}},"description":"Callback executed when the input fires a blur event."},"interaction":{"required":false,"tsType":{"name":"union","raw":"'enabled' | 'disabled' | 'readonly'","elements":[{"name":"literal","value":"'enabled'"},{"name":"literal","value":"'disabled'"},{"name":"literal","value":"'readonly'"}]},"description":"Specifies if interaction with the input is enabled, disabled, or readonly.\nWhen \"disabled\", the input changes visibly to indicate that it cannot\nreceive user interactions. When \"readonly\" the input still cannot receive\nuser interactions but it keeps the same styles as if it were enabled.","defaultValue":{"value":"'enabled'","computed":false}},"isRequired":{"required":false,"tsType":{"name":"boolean"},"description":"Specifies if the input is required.","defaultValue":{"value":"false","computed":false}},"isInline":{"required":false,"tsType":{"name":"boolean"},"description":"Controls whether the input is rendered inline with other elements or if it\nis rendered as a block level element.","defaultValue":{"value":"false","computed":false}},"width":{"required":false,"tsType":{"name":"string"},"description":"Specifies the width of the input."},"messages":{"required":false,"tsType":{"name":"Array","elements":[{"name":"FormMessage"}],"raw":"FormMessage[]"},"description":"Displays informational and error messages, used for input validation,\ncan also display screenreader-only messages.\nAlso changes the border color of the component on success/error.\nThis is automatically set to `invalidDateErrorMessage` when the date is invalid"},"invalidDateErrorMessage":{"required":false,"tsType":{"name":"string"},"description":"The message shown to the user when the date is invalid. If this prop is not set, validation is bypassed.\nIf it's set to an empty string, validation happens and the input border changes to red if validation hasn't passed."},"locale":{"required":false,"tsType":{"name":"string"},"description":"A standard language identifier.\n\nSee [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#locales) for\nmore details.\n\nThis property can also be set via a context property and if both are set\nthen the component property takes precedence over the context property.\n\nThe web browser's locale will be used if no value is set via a component\nproperty or a context property."},"timezone":{"required":false,"tsType":{"name":"string"},"description":"A timezone identifier in the format: *Area/Location*\n\nSee [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) for the list\nof possible options.\n\nThis property can also be set via a context property and if both are set\nthen the component property takes precedence over the context property.\n\nThe system timezone will be used if no value is set via a component\nproperty or a context property."},"withYearPicker":{"required":false,"tsType":{"name":"signature","type":"object","raw":"{\n  screenReaderLabel: string\n  onRequestYearChange?: (e: SyntheticEvent, requestedYear: number) => void\n  startYear: number\n  endYear: number\n}","signature":{"properties":[{"key":"screenReaderLabel","value":{"name":"string","required":true}},{"key":"onRequestYearChange","value":{"name":"signature","type":"function","raw":"(e: SyntheticEvent, requestedYear: number) => void","signature":{"arguments":[{"type":{"name":"SyntheticEvent"},"name":"e"},{"type":{"name":"number"},"name":"requestedYear"}],"return":{"name":"void"}},"required":false}},{"key":"startYear","value":{"name":"number","required":true}},{"key":"endYear","value":{"name":"number","required":true}}]}},"description":"If set, years can be picked from a dropdown.\nIt accepts an object.\nscreenReaderLabel: string // e.g.: i18n(\"pick a year\")\n\nonRequestYearChange?:(e: React.MouseEvent,requestedYear: number): void // if set, on year change, only this will be called and no internal change will take place\n\nstartYear: number // e.g.: 2001, sets the start year of the selectable list\n\nendYear: number // e.g.: 2030, sets the end year of the selectable list"},"dateFormat":{"required":false,"tsType":{"name":"union","raw":"| {\n    parser: (input: string) => Date | null\n    formatter: (date: Date) => string\n  }\n| string","elements":[{"name":"signature","type":"object","raw":"{\n  parser: (input: string) => Date | null\n  formatter: (date: Date) => string\n}","signature":{"properties":[{"key":"parser","value":{"name":"signature","type":"function","raw":"(input: string) => Date | null","signature":{"arguments":[{"type":{"name":"string"},"name":"input"}],"return":{"name":"union","raw":"Date | null","elements":[{"name":"Date"},{"name":"null"}]}},"required":true}},{"key":"formatter","value":{"name":"signature","type":"function","raw":"(date: Date) => string","signature":{"arguments":[{"type":{"name":"Date"},"name":"date"}],"return":{"name":"string"}},"required":true}}]}},{"name":"string"}]},"description":"By default the date format is determined by the locale but can be changed via this prop to an alternate locale (passing it in as a string) or a custom parser and formatter (both as functions)"},"onRequestValidateDate":{"required":false,"tsType":{"name":"signature","type":"function","raw":"(\n  event: React.SyntheticEvent,\n  value: string,\n  utcDateString: string\n) => void","signature":{"arguments":[{"type":{"name":"ReactSyntheticEvent","raw":"React.SyntheticEvent"},"name":"event"},{"type":{"name":"string"},"name":"value"},{"type":{"name":"string"},"name":"utcDateString"}],"return":{"name":"void"}}},"description":"Callback executed when the input fires a blur event or a date is selected from the picker."},"renderCalendarIcon":{"required":false,"tsType":{"name":"Renderable"},"description":"Custom icon for the icon button opening the picker."},"margin":{"required":false,"tsType":{"name":"Spacing"},"description":"Margin around the component. Accepts a `Spacing` token. See token values and example usage in [this guide](https://instructure.design/#layout-spacing)."},"disabledDates":{"required":false,"tsType":{"name":"union","raw":"string[] | ((isoDateToCheck: string) => boolean)","elements":[{"name":"Array","elements":[{"name":"string"}],"raw":"string[]"},{"name":"unknown"}]},"description":""},"inputRef":{"required":false,"tsType":{"name":"signature","type":"function","raw":"(inputElement: HTMLInputElement | null) => void","signature":{"arguments":[{"type":{"name":"union","raw":"HTMLInputElement | null","elements":[{"name":"HTMLInputElement"},{"name":"null"}]},"name":"inputElement"}],"return":{"name":"void"}}},"description":"A function that provides a reference to the inner input element"}},"category":"components","relativePath":"packages/ui-date-input/src/DateInput2/v1/index.tsx","extension":".tsx","srcPath":"packages/ui-date-input/src/DateInput2/v1/index.tsx","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/packages/ui-date-input/src/DateInput2/v1/index.tsx","packageName":"@instructure/ui-date-input","requirePath":"@instructure/ui-date-input/lib/DateInput2/v1/index","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/packages/ui-date-input/src/DateInput2/v1/index.tsx').default","esPath":"@instructure/ui-date-input/es/DateInput2/v1/index","id":"DateInput2","title":"DateInput2"}