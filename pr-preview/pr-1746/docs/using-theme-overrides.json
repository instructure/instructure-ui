{"description":"\n## Using theme overrides\n\nThis document gives an overview on how you can customize Instructure UI components by tweaking their theme variables. While this gives you a level of flexibility on the look and feel of the components you should be aware of 2 things:\n\n- The default theme variables are tested to have high enough contrast ratios for WCAG conformance. If you are making changes, please make sure that your app stays WCAG conformant.\n- The look of components is only customisable to a certain degree. This is intentional, because Instructure UI is a design system geared towards the Canvas \"look and feel\", not a generic UI component library.\n\n```js\n---\ntype: embed\n---\n<ToggleBlockquote\n  summary=\"Note\"\n>\n  <ToggleBlockquote.Paragraph>\n    The \"colorful\" examples below are extreme and for demonstrational purposes only! Please style the components in a way that they fit into our style guidelines and have sufficient color contrast ratio!\n  </ToggleBlockquote.Paragraph>\n</ToggleBlockquote>\n```\n\n### How theming works in InstUI\n\nThe theming system in InstUI has three levels:\n\n**The global theme**\n\nGlobal themes are useful when you have multiple React Application trees and you want to set up themes and overrides on a more global level than application level theming.\nThis basically means you don't necessarily have to wrap each application tree with an [InstUISettingsProvider](/#InstUISettingsProvider) to use themes.\nInstUI leverages the [ThemeRegistry](/#ThemeRegistry) package to achieve global theming.\n\n```jsx\n---\ntype: code\n---\n// app/init sets the global theme\nimport { canvas } from '@instructure/ui-themes'\n\ncanvas.use()\n```\n\n**The application level theme**\n\nOn the broader level, there is the main theme object that contains the color, spacing, typography etc. variables available in the theme (e.g.: [canvas theme](/#canvas)). The application level theme can be set via the [InstUISettingsProvider](/#InstUISettingsProvider) component.\n\n```jsx\n---\ntype: code\n---\n// app/component root sets the app theme\n<InstUISettingsProvider theme={canvas}>\n  <ExampleComponent />\n</InstUISettingsProvider>\n```\n\n**The component's own theme**\n\nEvery themeable component has its own \"theme map\". This map defines the components own theme variables (used by this component only), and maps them to values in the global theme object. These local variables are then passed to the component and used in the styles object.\n\nSee the [emotion](/#emotion), [built-in themes](/#ui-themes) and [InstUISettingsProvider](/#InstUISettingsProvider) docs pages for more info and examples.\n\nEither you set up the themes globally, or you use the `InstUISettingsProvider` to set up themes, the component's `theme.js` will map it to theme variables:\n\n```jsx\n---\ntype: code\n---\n// component's `theme.js` maps the\nconst generateComponentTheme = (theme) => {\n  const { colors } = theme // global theme, e.g.: canvas theme\n\n  return {\n    background: colors?.backgroundMedium,\n    color: colors?.textDarkest\n    //...\n  }\n}\n\n// component's `style.js` uses the theme variables\nconst generateStyle = (componentTheme) => {\n  return {\n    button: {\n      label: 'button',\n      background: componentTheme.background,\n      color: componentTheme.color\n      //...\n    }\n  }\n}\n```\n\n### Global theme overrides\n\nIn order to globally register and override themes, simply import the theme you wish to use and call `.use({ overrides })` on it:\n\n```js\n---\ntype: code\n---\nimport ReactDOM from \"react-dom\"\nimport { canvas } from \"@instructure/ui-themes\"\n\ncanvas.use({\n  overrides: {\n    colors: {\n      brand: 'red'\n    }\n  }\n})\n\nReactDOM.render(\n  <div>\n    ...your application code goes here...\n  </div>\n)\n```\n\n**Note**: globally overriding themes like this means that every InstUI component will use that theme, unless they are wrapped inside an `<InstUISettingsProvider/>`.\n\nYou can see more examples [here](/#using-theme-overrides/#using-theme-overrides-examples).\n\n### Application level theme overrides\n\n`<InstUISettingsProvider/>` accepts full theme objects and override objects too.\n\n#### Full themes\n\nBy nesting the `InstUISettingsProvider` you can apply different themes to some sections of you app.\n\n```js\n---\ntype: example\n---\n<InstUISettingsProvider theme={canvas}>\n  <div>\n    <Alert variant=\"info\" margin=\"small\">\n      I am a \"canvas\" style Alert.\n    </Alert>\n\n    <InstUISettingsProvider theme={canvasHighContrast}>\n      <Alert variant=\"info\" margin=\"small\">\n        I am a \"canvasHighContrast\" style Alert.\n      </Alert>\n    </InstUISettingsProvider>\n  </div>\n</InstUISettingsProvider>\n```\n\n#### Partial theme overrides\n\nWhen providing a partial theme object, you can override any theme variable inside that provider.\n\n```js\n---\ntype: example\n---\n<InstUISettingsProvider theme={canvas}>\n  <div>\n    <Heading level=\"h3\" margin=\"small small medium\">\n      I should have default font family.\n    </Heading>\n\n    <InstUISettingsProvider\n      theme={{\n        typography: { fontFamily: 'monospace' }\n      }}\n    >\n      <Heading level=\"h3\" margin=\"small small\">\n        I should have monospace font family.\n      </Heading>\n    </InstUISettingsProvider>\n  </div>\n</InstUISettingsProvider>\n```\n\n#### Targeting variables in multiple themes\n\nIn case you are using multiple themes in your app, you can target a specific theme to override with the `themeOverrides` key, and under the name (key) of the theme.\n\n```js\n---\ntype: example\n---\nclass Example extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { theme: canvas }\n  }\n\n  themesMap = {\n    canvas,\n    canvasHighContrast,\n    instructure\n  }\n\n  render() {\n    return (\n      <div>\n        <View as=\"div\" margin=\"0 0 medium\">\n          <RadioInputGroup\n            onChange={(event, value) => {\n              this.setState({ theme: this.themesMap[value] })\n            }}\n            name=\"themeSelect\"\n            defaultValue=\"canvas\"\n            description=\"Select theme\"\n            variant=\"toggle\"\n          >\n            <RadioInput label=\"canvas\" value=\"canvas\" />\n            <RadioInput label=\"canvasHighContrast\" value=\"canvasHighContrast\" />\n            <RadioInput label=\"instructure\" value=\"instructure\" />\n          </RadioInputGroup>\n        </View>\n\n        <InstUISettingsProvider theme={this.state.theme}>\n          <div>\n            <Alert variant=\"info\" margin=\"small\">\n              I am a default style Alert.\n            </Alert>\n\n            <InstUISettingsProvider\n              theme={{\n                themeOverrides: {\n                  canvas: {\n                    colors: { backgroundLightest: 'orange' }\n                  },\n                  'canvas-high-contrast': {\n                    colors: { backgroundLightest: 'red' }\n                  },\n                  instructure: {\n                    colors: { backgroundLightest: 'green' }\n                  }\n                }\n              }}\n            >\n              <Alert variant=\"info\" margin=\"small\">\n                My background should be:\n                <List margin=\"xx-small\">\n                  <List.Item><strong>orange</strong> in 'canvas',</List.Item>\n                  <List.Item><strong>red</strong> in 'canvas-high-contrast',</List.Item>\n                  <List.Item>and <strong>green</strong> in 'instructure' theme.</List.Item>\n                </List>\n              </Alert>\n            </InstUISettingsProvider>\n          </div>\n        </InstUISettingsProvider>\n      </div>\n    )\n  }\n}\n\nrender(<Example />)\n```\n\n#### Overriding component themes for a React Tree\n\nYou can override the theme variables of specific components too with the `componentOverrides` key.\n\n**Important:** these variables are the components own theme variables set in the `theme.js` of the component.\n\nThe `componentOverrides` can also be nested inside `themeOverrides`.\n\n**Note:** these overrides are handled in the `getComponentThemeOverride` style util method, not in `InstUISettingsProvider`.\n\n```js\n---\ntype: example\n---\n<InstUISettingsProvider theme={canvas}>\n  <div>\n    <Alert variant=\"info\" margin=\"small\">\n      I am a default style Alert.\n    </Alert>\n\n    <InstUISettingsProvider\n      theme={{\n        themeOverrides: {\n          canvas: {\n            colors: { backgroundLightest: \"lightgray\" }\n          }\n        }\n      }}\n    >\n      <Alert variant=\"success\" margin=\"small\">\n        My background should be light gray in 'canvas' theme.\n      </Alert>\n    </InstUISettingsProvider>\n\n    <InstUISettingsProvider\n      theme={{\n        themeOverrides: {\n          canvas: {\n            colors: { backgroundLightest: \"lightpink\" },\n            componentOverrides: {\n              Alert: {\n                warningIconBackground: \"deeppink\",\n                warningBorderColor: \"deeppink\"\n              }\n            }\n          }\n        }\n      }}\n    >\n      <Alert variant=\"warning\" margin=\"small\">\n        My background should be light pink and the icon background should be deep pink in 'canvas' theme.\n      </Alert>\n    </InstUISettingsProvider>\n\n    <InstUISettingsProvider\n      theme={{\n        componentOverrides: {\n          Alert: {\n            infoIconBackground: \"darkblue\",\n            infoBorderColor: \"darkblue\"\n          }\n        },\n        themeOverrides: {\n          canvas: {\n            colors: { backgroundLightest: \"lightblue\" }\n          }\n        }\n      }}\n    >\n      <Alert variant=\"info\" margin=\"small\">\n        My background should be light blue in 'canvas' theme, and the icon background should be dark blue in any theme.\n      </Alert>\n    </InstUISettingsProvider>\n  </div>\n</InstUISettingsProvider>\n```\n\nFor child components both the displayName (`'InlineList.Item'`) and the componentId (`List.Item.componentId`) can be used as keys in `componentOverrides`.\n\n```jsx\n---\ntype: code\n---\n<InstUISettingsProvider\n  theme={{\n    componentOverrides: {\n      'InlineList.Item': {\n        color: 'blue'\n      },\n      [List.Item.componentId]: {\n        color: 'red'\n      }\n    }\n  }}\n>\n  {/* ... */}\n</InstUISettingsProvider>\n```\n\n### Component themeOverride prop\n\nThemeable components (that implement the [withStyle](#withStyle) decorator) accept a `themeOverride` prop. This prop let's you override the component's own theme. It accepts an object or a function.\n\nThe available theme variables are always displayed at the bottom of the component's page (e.g.: [Button component theme variables](/#Button/#ButtonTheme)).\n\n#### Override object\n\n```js\n---\ntype: example\n---\n<div>\n  <div>\n    <Button\n      color='primary'\n    >\n      Default Primary Button\n    </Button>\n  </div>\n\n  <div>\n    <Button\n      color='primary'\n      themeOverride={{ primaryBackground: \"purple\" }}\n      margin=\"small 0 0\"\n    >\n      Purple Primary Button\n    </Button>\n  </div>\n</div>\n```\n\n#### Override function\n\nThe override function's first parameter is the component's own theme object, the second is the main theme object.\n\n```js\n---\ntype: example\n---\n<div>\n  <div>\n    <Button\n      color='primary'\n    >\n      Default Primary Button\n    </Button>\n  </div>\n\n  <div>\n    <Button\n      color='primary'\n      margin=\"small 0 0\"\n      themeOverride={(componentTheme) => ({\n        primaryBackground: componentTheme.successBackground,\n        primaryBorderColor: componentTheme.successBorderColor\n      })}\n    >\n      Default Primary Button with Success colors\n    </Button>\n  </div>\n</div>\n```\n\nYou can access and use any global theme variable via the second parameter (e.g. the [canvas theme](/#canvas)). When changing themes, these variables will update too.\n\n```js\n---\ntype: example\n---\n<div>\n  <div>\n    <Button\n      color='primary'\n    >\n      Default Primary Button\n    </Button>\n  </div>\n\n  <div>\n    <Button\n      color='primary'\n      margin=\"small 0 0\"\n      themeOverride={(_componentTheme, currentTheme) => ({\n        primaryBackground: currentTheme.colors.backgroundWarning,\n        primaryBorderColor: currentTheme.colors.backgroundLightest,\n        borderWidth: currentTheme.borders.widthLarge,\n        borderStyle: 'dashed'\n      })}\n    >\n      Custom Primary Button\n    </Button>\n  </div>\n\n  <div>\n    <InstUISettingsProvider theme={canvasHighContrast}>\n      <Button\n        color='primary'\n        margin=\"small 0 0\"\n        themeOverride={(_componentTheme, currentTheme) => ({\n          primaryBackground: currentTheme.colors.backgroundWarning,\n          primaryBorderColor: currentTheme.colors.backgroundLightest,\n          borderWidth: currentTheme.borders.widthLarge,\n          borderStyle: 'dashed'\n        })}\n      >\n        Custom Primary Button (high contrast)\n      </Button>\n    </InstUISettingsProvider>\n  </div>\n</div>\n```\n\n### Complex use cases\n\n#### Use global theme for multiple React trees\n\nIf you have multiple `ReactDOM.render` calls and you would like to use the same theme with the same overrides for them, then you have 2 options:\n\n**Option 1**: wrap each `ReactDOM.render` application with an `InstUISettingsProvider` with the correct theme:\n\n```js\n---\ntype: code\n---\n//ui/themeOverride.js\nimport { canvas } from \"@instructure/ui-themes\"\n\nconst themeWithOverrides = {\n  ...canvas,\n  colors: {\n    brand: 'red'\n  }\n}\n\nexport { themeWithOverrides }\n```\n\n```jsx\n---\ntype: code\n---\n//ui/app1/index.js\nReactDOM.render(\n  <InstUISettingsProvider theme={themeWithOverrides}>\n    <App1>\n  </InstUISettingsProvider>\n)\n```\n\n```jsx\n---\ntype: code\n---\n//ui/app2/index.js\nReactDOM.render(\n  <InstUISettingsProvider theme={themeWithOverrides}>\n    <App2>\n  </InstUISettingsProvider>\n)\n```\n\nThis approach quickly becomes too cumbersome if you have more than a couple of `ReactDOM.render` calls.\n\n**Option 2**: use global themes:\n\n```jsx\n---\ntype: code\n---\n//ui/init.js - make sure ui/init.js runs before any other app code!\nimport { canvas } from \"@instructure/ui-themes\"\n\ncanvas.use({\n  overrides: {\n    colors: {\n      brand: 'red'\n    }\n  }\n})\n```\n\nThis will register the `canvas` theme with its overrides as the active theme in the [ThemeRegistry](/#ThemeRegistry) and then every InstUI component - that is not wrapped in an `InstUISettingsProvider` - will use this theme no matter which React tree they are rendered in.\n\n#### Use global theme together with InstUISettingsProvider\n\nYou can use the global theming and the application level theming together, however there are some caveats you should be aware of:\n\nIf you globally .use() a theme and would like to override that theme in a sub-tree of your application then just wrap that part in an `InstUISettingsProvider`\n\n```js\n---\ntype: code\n---\n//ui/init.js\nimport { canvas } from \"@instructure/ui-themes\"\n\ncanvas.use({ overrides: ... })\n\n//render app\n```\n\nThen just specify the overrides, not the full theme:\n\n```jsx\n---\ntype: code\n---\n//then later in a sub-tree you can override the theme for that sub-tree only:\nrender() {\n  return(\n    <InstUISettingsProvider theme={{\n      colors: {\n        brand: 'magenta'\n      }\n    }}>\n    //Any InstUI component that uses the `theme.colors.brand` will have it's color set to \"magenta\" in this subtree\n    <SubTree />\n  </InstUISettingsProvider>\n  )\n}\n```\n\nThis example won't override the global theme, instead it will override the application level theme provided to `InstUISettingsProvider`\n\n```js\n---\ntype: code\n---\n//ui/init.js\nimport { canvas } from \"@instructure/ui-themes\"\n\ncanvas.use({ overrides: ... })\n\n//render app\n```\n\n```jsx\n---\ntype: code\n---\n//your application root code:\nimport { instructure } from \"@instructure/ui-themes\"\n\nrender() {\n  return (\n    <InstUISettingsProvider theme={instructure}>\n      <SubTree1 />\n      <InstUISettingsProvider theme={{\n        colors: {\n          brand: 'orange'\n        }\n      }}>\n        //Any InstUI component that uses the `theme.colors.brand` will have it's color set to \"orange\" in this subtree\n        <SubTree2/>\n      </InstUISettingsProvider>\n    </InstUISettingsProvider>\n )\n}\n```\n","title":"Using theme overrides","category":"Guides","order":4,"relativePath":"docs/guides/using-theme-overrides.md","extension":".md","srcPath":"docs/guides/using-theme-overrides.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/guides/using-theme-overrides.md","packageName":"@instructure/docs","requirePath":"@instructure/docs/guides/using-theme-overrides","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/docs/guides/using-theme-overrides.md').default","esPath":"@instructure/docs/guides/using-theme-overrides","themePath":"docs/guides/using-theme-overrides.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/guides/using-theme-overrides.md","id":"using-theme-overrides"}