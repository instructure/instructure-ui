{"description":"\n# Cypress component testing\n\nSometimes unit test behaviour doesn't match how our components work in the browser (e.g. no ResizeObserver)\nInstUI uses [Cypress Component Testing](https://docs.cypress.io/guides/component-testing/overview) in these cases to run tests in a real-world environment.\n\n### Running tests\n\nYou can run them from the root with the following command:\n\n```\nnpm run cy:component\n```\n\nRun specific test file:\n\n```\nnpm run cy:component -- --spec \"cypress/component/Alerts.cy.tsx\"\n```\n\n### Creating new tests\n\nNew tests should be added under `cypress/component/`  \nBy convention we name test files after the component they are testing like `cypress/component/[ComponentName].cy.tsx`\n\nCypress tests usually have a structure like this:\n\n```js\n---\ntype: code\n---\nimport React from 'react'\nimport { ComponentToTest } from '@instructure/ui'\nimport '../support/component'\n\ndescribe('<ComponentToTest/>', () => {\n  it('works as intended...', () => {\n    cy.mount(<ComponentToTest />)\n    // rest of the test comes here\n  })\n})\n```\n\nYou can read more about cypress testing from their [docs](https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests#Writing-tests) and their [React Examples](https://docs.cypress.io/guides/component-testing/react/examples).\n\n### Example\n\nYou can view our code base on GitHub. The component tests can be found [here](https://github.com/instructure/instructure-ui/tree/master/cypress/component).\n\n### Debugging tests\n\nTo run cypress in a non-headless mode, use the following command:\n\n```\nnpx cypress open --component\n```\n\nThis opens a new window and prompts you to choose a browser. After that you can run tests individually, interact with them and check logs.\n\n### Using native system events\n\nSometimes using native events are needed for more accuracy. This can be achieved with [cypress-real-events](https://github.com/dmtrKovalenko/cypress-real-events).\n\nFrom their docs:\n\n> Why? Cypress default events are simulated. That means that all events like cy.click or cy.type are fired from javascript. That's why these events will be untrusted (event.isTrusted will be false) and they can behave a little different from real native events. But for some cases, it can be impossible to use simulated events, for example, to fill a native alert or copy to the clipboard. This plugin solves this problem.\n\nThis packages is added to the project so you can import it and use it like this:\n\n```js\n---\ntype: code\n---\nimport React from 'react'\nimport { Button } from '../../packages/ui'\nimport '../support/component'\nimport 'cypress-real-events'\n\ndescribe('real events testing', () => {\n  it('clicks for real', () => {\n    cy.mount(<Button >click me</Button>)\n    cy.contains('click me').realClick()\n    // rest of the test\n  })\n})\n```\n\n### Configuration Setup\n\nHere you can find the key configuration files and folder locations used for our test environment:\n\n- [cypress/support](https://github.com/instructure/instructure-ui/tree/master/cypress/support)\n- [cypress.config.ts](https://github.com/instructure/instructure-ui/blob/master/cypress.config.ts)\n","title":"Cypress component testing","category":"Contributor Guides/Testing","order":3,"relativePath":"docs/testing/cypress-component-testing.md","extension":".md","srcPath":"docs/testing/cypress-component-testing.md","srcUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/testing/cypress-component-testing.md","packageName":"@instructure/docs","requirePath":"@instructure/docs/testing/cypress-component-testing","requireStr":"require('/home/runner/work/instructure-ui/instructure-ui/docs/testing/cypress-component-testing.md').default","esPath":"@instructure/docs/testing/cypress-component-testing","themePath":"docs/testing/cypress-component-testing.md","themeUrl":"https://github.com/instructure/instructure-ui/tree/master/docs/testing/cypress-component-testing.md","id":"cypress-component-testing"}